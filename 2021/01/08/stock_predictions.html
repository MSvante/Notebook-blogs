<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Amazon | fastpages</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Amazon" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="An easy to use blogging platform with support for Jupyter Notebooks." />
<meta property="og:description" content="An easy to use blogging platform with support for Jupyter Notebooks." />
<link rel="canonical" href="https://msvante.github.io/Notebook-blogs/2021/01/08/stock_predictions.html" />
<meta property="og:url" content="https://msvante.github.io/Notebook-blogs/2021/01/08/stock_predictions.html" />
<meta property="og:site_name" content="fastpages" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-01-08T00:00:00-06:00" />
<script type="application/ld+json">
{"url":"https://msvante.github.io/Notebook-blogs/2021/01/08/stock_predictions.html","@type":"BlogPosting","headline":"Amazon","dateModified":"2021-01-08T00:00:00-06:00","datePublished":"2021-01-08T00:00:00-06:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://msvante.github.io/Notebook-blogs/2021/01/08/stock_predictions.html"},"description":"An easy to use blogging platform with support for Jupyter Notebooks.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/Notebook-blogs/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://msvante.github.io/Notebook-blogs/feed.xml" title="fastpages" /><link rel="shortcut icon" type="image/x-icon" href="/Notebook-blogs/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/Notebook-blogs/">fastpages</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/Notebook-blogs/about/">About Me</a><a class="page-link" href="/Notebook-blogs/search/">Search</a><a class="page-link" href="/Notebook-blogs/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Amazon</h1><p class="post-meta post-meta-title"><time class="dt-published" datetime="2021-01-08T00:00:00-06:00" itemprop="datePublished">
        Jan 8, 2021
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      44 min read
    
</span></p>

    

    
      
        <div class="pb-5 d-flex flex-wrap flex-justify-end">
          <div class="px-2">

    <a href="https://github.com/MSvante/Notebook-blogs/tree/master/_notebooks/2021-01-08-stock_predictions.ipynb" role="button" target="_blank">
<img class="notebook-badge-image" src="/Notebook-blogs/assets/badges/github.svg" alt="View On GitHub">
    </a>
</div>

          <div class="px-2">
    <a href="https://mybinder.org/v2/gh/MSvante/Notebook-blogs/master?filepath=_notebooks%2F2021-01-08-stock_predictions.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/Notebook-blogs/assets/badges/binder.svg" alt="Open In Binder"/>
    </a>
</div>

          <div class="px-2">
    <a href="https://colab.research.google.com/github/MSvante/Notebook-blogs/blob/master/_notebooks/2021-01-08-stock_predictions.ipynb" target="_blank">
        <img class="notebook-badge-image" src="/Notebook-blogs/assets/badges/colab.svg" alt="Open In Colab"/>
    </a>
</div>
        </div>
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2021-01-08-stock_predictions.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Preproccesing">Preproccesing<a class="anchor-link" href="#Preproccesing"> </a></h1>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>pip install yfinance
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Requirement already satisfied: yfinance in /usr/local/lib/python3.6/dist-packages (0.1.55)
Requirement already satisfied: requests&gt;=2.20 in /usr/local/lib/python3.6/dist-packages (from yfinance) (2.23.0)
Requirement already satisfied: pandas&gt;=0.24 in /usr/local/lib/python3.6/dist-packages (from yfinance) (1.1.5)
Requirement already satisfied: lxml&gt;=4.5.1 in /usr/local/lib/python3.6/dist-packages (from yfinance) (4.6.2)
Requirement already satisfied: multitasking&gt;=0.0.7 in /usr/local/lib/python3.6/dist-packages (from yfinance) (0.0.9)
Requirement already satisfied: numpy&gt;=1.15 in /usr/local/lib/python3.6/dist-packages (from yfinance) (1.19.4)
Requirement already satisfied: chardet&lt;4,&gt;=3.0.2 in /usr/local/lib/python3.6/dist-packages (from requests&gt;=2.20-&gt;yfinance) (3.0.4)
Requirement already satisfied: certifi&gt;=2017.4.17 in /usr/local/lib/python3.6/dist-packages (from requests&gt;=2.20-&gt;yfinance) (2020.12.5)
Requirement already satisfied: urllib3!=1.25.0,!=1.25.1,&lt;1.26,&gt;=1.21.1 in /usr/local/lib/python3.6/dist-packages (from requests&gt;=2.20-&gt;yfinance) (1.24.3)
Requirement already satisfied: idna&lt;3,&gt;=2.5 in /usr/local/lib/python3.6/dist-packages (from requests&gt;=2.20-&gt;yfinance) (2.10)
Requirement already satisfied: pytz&gt;=2017.2 in /usr/local/lib/python3.6/dist-packages (from pandas&gt;=0.24-&gt;yfinance) (2018.9)
Requirement already satisfied: python-dateutil&gt;=2.7.3 in /usr/local/lib/python3.6/dist-packages (from pandas&gt;=0.24-&gt;yfinance) (2.8.1)
Requirement already satisfied: six&gt;=1.5 in /usr/local/lib/python3.6/dist-packages (from python-dateutil&gt;=2.7.3-&gt;pandas&gt;=0.24-&gt;yfinance) (1.15.0)
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>pip3 install --user --upgrade git+https://github.com/twintproject/twint.git@origin/master#egg<span class="o">=</span>twint
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Collecting twint
  Cloning https://github.com/twintproject/twint.git (to revision origin/master) to /tmp/pip-install-p8nbyt5e/twint
  Running command git clone -q https://github.com/twintproject/twint.git /tmp/pip-install-p8nbyt5e/twint
<span class="ansi-yellow-fg">  WARNING: Did not find branch or tag &#39;origin/master&#39;, assuming revision or ref.</span>
  Running command git checkout -q origin/master
Requirement already satisfied, skipping upgrade: aiohttp in /root/.local/lib/python3.6/site-packages (from twint) (3.7.3)
Requirement already satisfied, skipping upgrade: aiodns in /root/.local/lib/python3.6/site-packages (from twint) (2.0.0)
Requirement already satisfied, skipping upgrade: beautifulsoup4 in /usr/local/lib/python3.6/dist-packages (from twint) (4.6.3)
Requirement already satisfied, skipping upgrade: cchardet in /root/.local/lib/python3.6/site-packages (from twint) (2.1.7)
Requirement already satisfied, skipping upgrade: dataclasses in /usr/local/lib/python3.6/dist-packages (from twint) (0.8)
Requirement already satisfied, skipping upgrade: elasticsearch in /root/.local/lib/python3.6/site-packages (from twint) (7.10.1)
Requirement already satisfied, skipping upgrade: pysocks in /usr/local/lib/python3.6/dist-packages (from twint) (1.7.1)
Requirement already satisfied, skipping upgrade: pandas in /usr/local/lib/python3.6/dist-packages (from twint) (1.1.5)
Requirement already satisfied, skipping upgrade: aiohttp_socks in /root/.local/lib/python3.6/site-packages (from twint) (0.5.5)
Requirement already satisfied, skipping upgrade: schedule in /root/.local/lib/python3.6/site-packages (from twint) (0.6.0)
Requirement already satisfied, skipping upgrade: geopy in /usr/local/lib/python3.6/dist-packages (from twint) (1.17.0)
Requirement already satisfied, skipping upgrade: fake-useragent in /root/.local/lib/python3.6/site-packages (from twint) (0.1.11)
Requirement already satisfied, skipping upgrade: googletransx in /root/.local/lib/python3.6/site-packages (from twint) (2.4.2)
Requirement already satisfied, skipping upgrade: chardet&lt;4.0,&gt;=2.0 in /usr/local/lib/python3.6/dist-packages (from aiohttp-&gt;twint) (3.0.4)
Requirement already satisfied, skipping upgrade: multidict&lt;7.0,&gt;=4.5 in /root/.local/lib/python3.6/site-packages (from aiohttp-&gt;twint) (5.1.0)
Requirement already satisfied, skipping upgrade: async-timeout&lt;4.0,&gt;=3.0 in /root/.local/lib/python3.6/site-packages (from aiohttp-&gt;twint) (3.0.1)
Requirement already satisfied, skipping upgrade: attrs&gt;=17.3.0 in /usr/local/lib/python3.6/dist-packages (from aiohttp-&gt;twint) (20.3.0)
Requirement already satisfied, skipping upgrade: yarl&lt;2.0,&gt;=1.0 in /root/.local/lib/python3.6/site-packages (from aiohttp-&gt;twint) (1.6.3)
Requirement already satisfied, skipping upgrade: idna-ssl&gt;=1.0; python_version &lt; &#34;3.7&#34; in /root/.local/lib/python3.6/site-packages (from aiohttp-&gt;twint) (1.1.0)
Requirement already satisfied, skipping upgrade: typing-extensions&gt;=3.6.5 in /usr/local/lib/python3.6/dist-packages (from aiohttp-&gt;twint) (3.7.4.3)
Requirement already satisfied, skipping upgrade: typing; python_version &lt; &#34;3.7&#34; in /root/.local/lib/python3.6/site-packages (from aiodns-&gt;twint) (3.7.4.3)
Requirement already satisfied, skipping upgrade: pycares&gt;=3.0.0 in /root/.local/lib/python3.6/site-packages (from aiodns-&gt;twint) (3.1.1)
Requirement already satisfied, skipping upgrade: certifi in /usr/local/lib/python3.6/dist-packages (from elasticsearch-&gt;twint) (2020.12.5)
Requirement already satisfied, skipping upgrade: urllib3&lt;2,&gt;=1.21.1 in /usr/local/lib/python3.6/dist-packages (from elasticsearch-&gt;twint) (1.24.3)
Requirement already satisfied, skipping upgrade: python-dateutil&gt;=2.7.3 in /usr/local/lib/python3.6/dist-packages (from pandas-&gt;twint) (2.8.1)
Requirement already satisfied, skipping upgrade: numpy&gt;=1.15.4 in /usr/local/lib/python3.6/dist-packages (from pandas-&gt;twint) (1.19.4)
Requirement already satisfied, skipping upgrade: pytz&gt;=2017.2 in /usr/local/lib/python3.6/dist-packages (from pandas-&gt;twint) (2018.9)
Requirement already satisfied, skipping upgrade: python-socks[asyncio]&gt;=1.0.1 in /root/.local/lib/python3.6/site-packages (from aiohttp_socks-&gt;twint) (1.1.2)
Requirement already satisfied, skipping upgrade: geographiclib&lt;2,&gt;=1.49 in /usr/local/lib/python3.6/dist-packages (from geopy-&gt;twint) (1.50)
Requirement already satisfied, skipping upgrade: requests in /usr/local/lib/python3.6/dist-packages (from googletransx-&gt;twint) (2.23.0)
Requirement already satisfied, skipping upgrade: idna&gt;=2.0 in /usr/local/lib/python3.6/dist-packages (from yarl&lt;2.0,&gt;=1.0-&gt;aiohttp-&gt;twint) (2.10)
Requirement already satisfied, skipping upgrade: cffi&gt;=1.5.0 in /usr/local/lib/python3.6/dist-packages (from pycares&gt;=3.0.0-&gt;aiodns-&gt;twint) (1.14.4)
Requirement already satisfied, skipping upgrade: six&gt;=1.5 in /usr/local/lib/python3.6/dist-packages (from python-dateutil&gt;=2.7.3-&gt;pandas-&gt;twint) (1.15.0)
Requirement already satisfied, skipping upgrade: pycparser in /usr/local/lib/python3.6/dist-packages (from cffi&gt;=1.5.0-&gt;pycares&gt;=3.0.0-&gt;aiodns-&gt;twint) (2.20)
Building wheels for collected packages: twint
  Building wheel for twint (setup.py) ... done
  Created wheel for twint: filename=twint-2.1.21-cp36-none-any.whl size=38761 sha256=8e0ca3f7b4f2b6047a1e9b3c35f64d54664c30bbaaefeff1d95b6045d28aea9d
  Stored in directory: /tmp/pip-ephem-wheel-cache-ynrgregn/wheels/4f/3b/75/62d04b3b446658ba85401e8868d3cd1d4bc22f17ad755460a6
Successfully built twint
Installing collected packages: twint
  Found existing installation: twint 2.1.21
    Uninstalling twint-2.1.21:
      Successfully uninstalled twint-2.1.21
<span class="ansi-yellow-fg">  WARNING: The script twint is installed in &#39;/root/.local/bin&#39; which is not on PATH.
  Consider adding this directory to PATH or, if you prefer to suppress this warning, use --no-warn-script-location.</span>
Successfully installed twint-2.1.21
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">pandas_datareader</span> <span class="kn">import</span> <span class="n">data</span> <span class="k">as</span> <span class="n">web</span>
<span class="kn">from</span> <span class="nn">yfinance</span> <span class="kn">import</span> <span class="n">Ticker</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">yfinance</span> <span class="k">as</span> <span class="nn">yf</span>
<span class="kn">import</span> <span class="nn">keras</span>
<span class="kn">from</span> <span class="nn">keras.models</span> <span class="kn">import</span> <span class="n">Sequential</span>
<span class="kn">from</span> <span class="nn">keras.layers</span> <span class="kn">import</span> <span class="n">Dense</span>
<span class="kn">from</span> <span class="nn">keras.layers</span> <span class="kn">import</span> <span class="n">LSTM</span>
<span class="kn">from</span> <span class="nn">keras.layers</span> <span class="kn">import</span> <span class="n">Dropout</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">keras.preprocessing.sequence</span> <span class="kn">import</span> <span class="n">TimeseriesGenerator</span>
<span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">MinMaxScaler</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">twint</span>
<span class="kn">import</span> <span class="nn">nest_asyncio</span>
<span class="n">nest_asyncio</span><span class="o">.</span><span class="n">apply</span><span class="p">()</span>

<span class="kn">import</span> <span class="nn">nltk</span>
<span class="kn">from</span> <span class="nn">nltk.corpus</span> <span class="kn">import</span> <span class="n">stopwords</span>
<span class="kn">from</span> <span class="nn">nltk.stem</span> <span class="kn">import</span> <span class="n">WordNetLemmatizer</span>
<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;stopwords&#39;</span><span class="p">)</span>
<span class="n">nltk</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s1">&#39;wordnet&#39;</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">textblob</span> <span class="kn">import</span> <span class="n">TextBlob</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>[nltk_data] Downloading package stopwords to /root/nltk_data...
[nltk_data]   Unzipping corpora/stopwords.zip.
[nltk_data] Downloading package wordnet to /root/nltk_data...
[nltk_data]   Unzipping corpora/wordnet.zip.
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">start_date</span> <span class="o">=</span> <span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">21</span><span class="p">)</span> <span class="o">-</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1825</span><span class="p">))</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="n">end_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2020</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span><span class="mi">21</span><span class="p">)</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">lemmatizer</span> <span class="o">=</span> <span class="n">WordNetLemmatizer</span><span class="p">()</span>
<span class="n">stop_words</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s1">&#39;english&#39;</span><span class="p">))</span>
<span class="k">def</span> <span class="nf">sneaky_cleanup</span><span class="p">(</span><span class="n">title</span><span class="p">):</span>
  <span class="n">tokens</span> <span class="o">=</span> <span class="p">[]</span>
  <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">title</span><span class="o">.</span><span class="n">split</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">token</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">stop_words</span><span class="p">:</span>
      <span class="k">if</span> <span class="n">token</span><span class="o">.</span><span class="n">isalnum</span><span class="p">():</span>
        <span class="n">tokens</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lemmatizer</span><span class="o">.</span><span class="n">lemmatize</span><span class="p">(</span><span class="n">token</span><span class="p">))</span>
  <span class="k">return</span> <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">tokens</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">stock</span> <span class="o">=</span> <span class="s2">&quot;Amazon&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#Configuration</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">twint</span><span class="o">.</span><span class="n">Config</span><span class="p">()</span>

<span class="n">c</span><span class="o">.</span><span class="n">Username</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;CNBC&quot;</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">Search</span> <span class="o">=</span> <span class="n">stock</span>
<span class="n">c</span><span class="o">.</span><span class="n">Since</span> <span class="o">=</span> <span class="s2">&quot;2015-1-1&quot;</span>
<span class="n">c</span><span class="o">.</span><span class="n">Count</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">c</span><span class="o">.</span><span class="n">Filter_retweets</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">c</span><span class="o">.</span><span class="n">Pandas</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">twint</span><span class="o">.</span><span class="n">run</span><span class="o">.</span><span class="n">Search</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">twint</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">panda</span><span class="o">.</span><span class="n">Tweets_df</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_cnbc_amzn</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span><span class="s1">&#39;date&#39;</span><span class="p">,</span><span class="s1">&#39;tweet&#39;</span><span class="p">,</span><span class="s1">&#39;hashtags&#39;</span><span class="p">,</span><span class="s1">&#39;username&#39;</span><span class="p">,</span><span class="s1">&#39;search&#39;</span><span class="p">]]</span>
<span class="n">df_cnbc_amzn</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>date</th>
      <th>tweet</th>
      <th>hashtags</th>
      <th>username</th>
      <th>search</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1345857469533319169</td>
      <td>2021-01-03 22:20:00</td>
      <td>.@dee_bosa breaks down the response to the str...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Amazon</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1345698164033134592</td>
      <td>2021-01-03 11:46:58</td>
      <td>Jeff Bezos' 3-question rule for hiring new Ama...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Amazon</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1345492816714055681</td>
      <td>2021-01-02 22:11:00</td>
      <td>.@dee_bosa breaks down the response to the str...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Amazon</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1345328999317336064</td>
      <td>2021-01-02 11:20:03</td>
      <td>You got an Amazon Echo for the holidays — @rob...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Amazon</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1345277950690734080</td>
      <td>2021-01-02 07:57:12</td>
      <td>Amazon is filled with fake reviews and it's ge...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Amazon</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_cnbc_amzn</span><span class="o">.</span><span class="n">tweet</span> <span class="o">=</span> <span class="n">df_cnbc_amzn</span><span class="o">.</span><span class="n">tweet</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">sneaky_cleanup</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/usr/local/lib/python3.6/dist-packages/pandas/core/generic.py:5170: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  self[name] = value
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">polarity</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
  <span class="k">return</span> <span class="n">TextBlob</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">sentiment</span><span class="o">.</span><span class="n">polarity</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_cnbc_amzn</span><span class="p">[</span><span class="s2">&quot;polarity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_cnbc_amzn</span><span class="p">[</span><span class="s2">&quot;tweet&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">polarity</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/usr/local/lib/python3.6/dist-packages/ipykernel_launcher.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  &#34;&#34;&#34;Entry point for launching an IPython kernel.
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_cnbc_amzn</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>date</th>
      <th>tweet</th>
      <th>hashtags</th>
      <th>username</th>
      <th>search</th>
      <th>polarity</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1344003481628266499</td>
      <td>2020-12-29 19:32:55</td>
      <td>break response NFL game San Francisco 49ers Ar...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Amazon</td>
      <td>-0.4</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1343959912343334914</td>
      <td>2020-12-29 16:39:47</td>
      <td>Stick winner Microsoft drive market two trader...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Amazon</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1342914094538567680</td>
      <td>2020-12-26 19:24:04</td>
      <td>Amazon hire lobbyist brother Biden White House...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Amazon</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1342179425513840640</td>
      <td>2020-12-24 18:44:46</td>
      <td>expect Google compete Amazon anytime soon</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Amazon</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1341877532761665541</td>
      <td>2020-12-23 22:45:09</td>
      <td>Amazon warehouse worker could vote unionize ne...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Amazon</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#Configuration</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">twint</span><span class="o">.</span><span class="n">Config</span><span class="p">()</span>

<span class="n">c</span><span class="o">.</span><span class="n">Username</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;business&quot;</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">Search</span> <span class="o">=</span> <span class="n">stock</span>
<span class="n">c</span><span class="o">.</span><span class="n">Since</span> <span class="o">=</span> <span class="s2">&quot;2015-1-1&quot;</span>
<span class="n">c</span><span class="o">.</span><span class="n">Count</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">c</span><span class="o">.</span><span class="n">Filter_retweets</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">c</span><span class="o">.</span><span class="n">Pandas</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">twint</span><span class="o">.</span><span class="n">run</span><span class="o">.</span><span class="n">Search</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">twint</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">panda</span><span class="o">.</span><span class="n">Tweets_df</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_bloom</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span><span class="s1">&#39;date&#39;</span><span class="p">,</span><span class="s1">&#39;tweet&#39;</span><span class="p">,</span><span class="s1">&#39;hashtags&#39;</span><span class="p">,</span><span class="s1">&#39;username&#39;</span><span class="p">,</span><span class="s1">&#39;search&#39;</span><span class="p">]]</span>
<span class="n">df_bloom</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>date</th>
      <th>tweet</th>
      <th>hashtags</th>
      <th>username</th>
      <th>search</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1345769903077388290</td>
      <td>2021-01-03 16:32:02</td>
      <td>Amazon self-driving startup Zoox unveils a ful...</td>
      <td>[]</td>
      <td>business</td>
      <td>Amazon</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1345513716939427840</td>
      <td>2021-01-02 23:34:03</td>
      <td>Many Amazon warehouse employees struggle to pa...</td>
      <td>[]</td>
      <td>business</td>
      <td>Amazon</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1345037069224206336</td>
      <td>2021-01-01 16:00:01</td>
      <td>Many Amazon warehouse employees struggle to pa...</td>
      <td>[]</td>
      <td>business</td>
      <td>Amazon</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1344364405878890500</td>
      <td>2020-12-30 19:27:06</td>
      <td>Amazon agreed to acquire podcasting company Wo...</td>
      <td>[]</td>
      <td>business</td>
      <td>Amazon</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1344306980031242241</td>
      <td>2020-12-30 15:38:54</td>
      <td>The pandemic sped up the rush to online shoppi...</td>
      <td>[]</td>
      <td>business</td>
      <td>Amazon</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>4275</th>
      <td>556254622160273409</td>
      <td>2015-01-17 01:00:11</td>
      <td>These are the Amazon Prime pilots getting the ...</td>
      <td>[]</td>
      <td>business</td>
      <td>Amazon</td>
    </tr>
    <tr>
      <th>4276</th>
      <td>555167752865218560</td>
      <td>2015-01-14 01:01:21</td>
      <td>Amazon just signed Woody Allen to his first TV...</td>
      <td>[]</td>
      <td>business</td>
      <td>Amazon</td>
    </tr>
    <tr>
      <th>4277</th>
      <td>555011593785077760</td>
      <td>2015-01-13 14:40:50</td>
      <td>BREAKING: Amazon enlists Woody Allen to create...</td>
      <td>[]</td>
      <td>business</td>
      <td>Amazon</td>
    </tr>
    <tr>
      <th>4278</th>
      <td>553929462535176194</td>
      <td>2015-01-10 15:00:50</td>
      <td>Amazon's instant refund aims to get you spendi...</td>
      <td>[]</td>
      <td>business</td>
      <td>Amazon</td>
    </tr>
    <tr>
      <th>4279</th>
      <td>552104052486840320</td>
      <td>2015-01-05 14:07:18</td>
      <td>Amazon reps are taking over CES, and Apple is ...</td>
      <td>[]</td>
      <td>business</td>
      <td>Amazon</td>
    </tr>
  </tbody>
</table>
<p>4280 rows × 6 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_bloom</span><span class="o">.</span><span class="n">tweet</span> <span class="o">=</span> <span class="n">df_bloom</span><span class="o">.</span><span class="n">tweet</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">sneaky_cleanup</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/usr/local/lib/python3.6/dist-packages/pandas/core/generic.py:5170: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  self[name] = value
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_bloom</span><span class="p">[</span><span class="s2">&quot;polarity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_bloom</span><span class="p">[</span><span class="s2">&quot;tweet&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">polarity</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/usr/local/lib/python3.6/dist-packages/ipykernel_launcher.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  &#34;&#34;&#34;Entry point for launching an IPython kernel.
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#Configuration</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">twint</span><span class="o">.</span><span class="n">Config</span><span class="p">()</span>

<span class="n">c</span><span class="o">.</span><span class="n">Username</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;WSJ&quot;</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">Search</span> <span class="o">=</span> <span class="n">stock</span>
<span class="n">c</span><span class="o">.</span><span class="n">Since</span> <span class="o">=</span> <span class="s2">&quot;2015-1-1&quot;</span>
<span class="n">c</span><span class="o">.</span><span class="n">Count</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">c</span><span class="o">.</span><span class="n">Filter_retweets</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">c</span><span class="o">.</span><span class="n">Pandas</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">twint</span><span class="o">.</span><span class="n">run</span><span class="o">.</span><span class="n">Search</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">twint</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">panda</span><span class="o">.</span><span class="n">Tweets_df</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_wsj</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span><span class="s1">&#39;date&#39;</span><span class="p">,</span><span class="s1">&#39;tweet&#39;</span><span class="p">,</span><span class="s1">&#39;hashtags&#39;</span><span class="p">,</span><span class="s1">&#39;username&#39;</span><span class="p">,</span><span class="s1">&#39;search&#39;</span><span class="p">]]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_wsj</span><span class="o">.</span><span class="n">tweet</span> <span class="o">=</span> <span class="n">df_wsj</span><span class="o">.</span><span class="n">tweet</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">sneaky_cleanup</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/usr/local/lib/python3.6/dist-packages/pandas/core/generic.py:5170: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  self[name] = value
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_wsj</span><span class="p">[</span><span class="s2">&quot;polarity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_wsj</span><span class="p">[</span><span class="s2">&quot;tweet&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">polarity</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/usr/local/lib/python3.6/dist-packages/ipykernel_launcher.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  &#34;&#34;&#34;Entry point for launching an IPython kernel.
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">frames</span><span class="o">=</span><span class="p">[</span><span class="n">df_cnbc_amzn</span><span class="p">,</span><span class="n">df_bloom</span><span class="p">,</span><span class="n">df_wsj</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">frames</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">merged</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">merged</span><span class="o">.</span><span class="n">date</span><span class="p">)</span>
<span class="n">merged</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">merged</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">positive</span> <span class="o">=</span> <span class="n">merged</span><span class="p">[</span><span class="n">merged</span><span class="p">[</span><span class="s2">&quot;polarity&quot;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span>
<span class="n">neutral</span> <span class="o">=</span> <span class="n">merged</span><span class="p">[</span><span class="n">merged</span><span class="p">[</span><span class="s2">&quot;polarity&quot;</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">]</span>
<span class="n">negative</span> <span class="o">=</span> <span class="n">merged</span><span class="p">[</span><span class="n">merged</span><span class="p">[</span><span class="s2">&quot;polarity&quot;</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">positive</span> <span class="o">=</span> <span class="n">positive</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">)[</span><span class="s1">&#39;polarity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">neutral</span> <span class="o">=</span> <span class="n">neutral</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">)[</span><span class="s1">&#39;polarity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">negative</span> <span class="o">=</span> <span class="n">negative</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">)[</span><span class="s1">&#39;polarity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">positive</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">positive</span><span class="p">)</span>
<span class="n">neutral</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">neutral</span><span class="p">)</span>
<span class="n">negative</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">negative</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">positive</span><span class="p">[</span><span class="s2">&quot;positive&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">positive</span><span class="o">.</span><span class="n">polarity</span>
<span class="n">neutral</span><span class="p">[</span><span class="s2">&quot;neutral&quot;</span><span class="p">]</span><span class="o">=</span><span class="n">neutral</span><span class="o">.</span><span class="n">polarity</span>
<span class="n">negative</span><span class="p">[</span><span class="s2">&quot;negative&quot;</span><span class="p">]</span><span class="o">=</span><span class="n">negative</span><span class="o">.</span><span class="n">polarity</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">positive</span><span class="p">,</span><span class="n">neutral</span><span class="p">,</span><span class="n">left_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sentiment</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df2</span><span class="p">,</span><span class="n">negative</span><span class="p">,</span><span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">left_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">yf</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s2">&quot;AMZN&quot;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="n">start_date</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">end_date</span><span class="p">,</span> <span class="n">progress</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="s1">&#39;1d&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">w</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df</span><span class="p">,</span><span class="n">sentiment</span><span class="p">,</span><span class="n">left_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;close-1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;change&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;close&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="c1">#df[&#39;change_pred&#39;] = (df[&quot;close&quot;] - df[&#39;close&#39;].shift(-1, fill_value=df[&#39;change&#39;].iloc[1]))*-1</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s2">&quot;open&quot;</span><span class="p">,</span><span class="s2">&quot;polarity_x&quot;</span><span class="p">,</span><span class="s2">&quot;polarity_y&quot;</span><span class="p">,</span><span class="s2">&quot;polarity&quot;</span><span class="p">,</span><span class="s2">&quot;adj close&quot;</span><span class="p">,</span><span class="s2">&quot;close&quot;</span><span class="p">,</span><span class="s2">&quot;high&quot;</span><span class="p">,</span><span class="s2">&quot;low&quot;</span><span class="p">],</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Since we want to predict the closing stock price for the following day, we just shift the closing price one day to get our y value.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Since we are working with sequential data, we dont use train_test_split. Insted we pick the first 80% of obersavations as training set, and the remaning as testing set.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="n">train</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="o">-</span><span class="n">test_size</span><span class="p">,:]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> 
<span class="n">test</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="n">test_size</span><span class="p">:,:]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We split the dataset into x values and y values. We also specify .values, since the date is not relevant for the training and dosn't work with some of the later preprocessing</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X_train</span> <span class="o">=</span> <span class="n">train</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">y_train</span> <span class="o">=</span> <span class="n">train</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="n">X_test</span> <span class="o">=</span> <span class="n">test</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">y_test</span> <span class="o">=</span> <span class="n">test</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We scale all our values to be between -1 and 1. This should help the accuracy of the model.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">x_scaler</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">(</span><span class="n">feature_range</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">y_scaler</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">(</span><span class="n">feature_range</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X_train</span> <span class="o">=</span> <span class="n">x_scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">y_train</span> <span class="o">=</span> <span class="n">y_scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y_train</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>


<span class="n">X_test</span> <span class="o">=</span> <span class="n">x_scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">y_test</span> <span class="o">=</span> <span class="n">y_scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y_test</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X_train</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="p">(</span><span class="n">X_train</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">X_test</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">X_test</span><span class="p">,</span> <span class="p">(</span><span class="n">X_test</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we start making our RNN model.</p>
<p>n_input = how many days we look in the past to predict the next sample. We chose 20 mostly by trial and error.</p>
<p>We set epochs to 100. It's our experience that the more you train the model, the more it will try to predict the daily volatility. If we only trained it for eg. 10 epochs, the model would make a soft curve which didn't look like a real stock development. By trail and error we found 100 to be the best training amount.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">n_input</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">n_features</span><span class="o">=</span> <span class="n">X_train</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="c1"># how many predictors/Xs/features we have to predict y</span>
<span class="n">b_size</span> <span class="o">=</span> <span class="mi">10</span> <span class="c1"># Number of timeseries samples in each batch</span>
<span class="n">epochs</span> <span class="o">=</span> <span class="mi">200</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Since we are working with sequential stock data we chose an LSTM model, which is a RNN model.
Activation function is set to relu, and optimizer is adam, since these are the standard for this kind of task.
We chose 2 layers with 50 units each, and once again done by trial and error.</p>
<p>Since we want to predict the actual stock price we use mse(mean squared error) as our loss fuction.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">Sequential</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">LSTM</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s1">&#39;relu&#39;</span><span class="p">,</span><span class="n">return_sequences</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">input_shape</span><span class="o">=</span><span class="p">(</span><span class="n">n_input</span><span class="p">,</span> <span class="n">n_features</span><span class="p">)))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Dropout</span><span class="p">(</span><span class="mf">0.2</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">LSTM</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s1">&#39;relu&#39;</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Dense</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">optimizer</span><span class="o">=</span><span class="s1">&#39;adam&#39;</span><span class="p">,</span> <span class="n">loss</span><span class="o">=</span><span class="s1">&#39;MSE&#39;</span><span class="p">,</span><span class="n">metrics</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;MSE&#39;</span><span class="p">])</span>
<span class="n">model</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Model: &#34;sequential_12&#34;
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
lstm_24 (LSTM)               (None, 10, 50)            11200     
_________________________________________________________________
dropout_12 (Dropout)         (None, 10, 50)            0         
_________________________________________________________________
lstm_25 (LSTM)               (None, 50)                20200     
_________________________________________________________________
dense_12 (Dense)             (None, 1)                 51        
=================================================================
Total params: 31,451
Trainable params: 31,451
Non-trainable params: 0
_________________________________________________________________
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span><span class="n">y_train</span><span class="p">,</span><span class="n">epochs</span><span class="o">=</span><span class="n">epochs</span><span class="p">,</span><span class="n">verbose</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This looks like overfitting, but it works the best in our case.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">loss_per_epoch</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">history</span><span class="o">.</span><span class="n">history</span><span class="p">[</span><span class="s1">&#39;loss&#39;</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">loss_per_epoch</span><span class="p">)),</span><span class="n">loss_per_epoch</span><span class="p">);</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
" />
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Then we do some data processing to get it back to the orginal format, so we can compare the real data to the predictions.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y_pred_scaled</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">y_scaler</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_pred_scaled</span><span class="p">)</span>
<span class="n">y_test</span> <span class="o">=</span> <span class="n">y_scaler</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_test</span><span class="p">)</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;y_true&#39;</span><span class="p">:</span><span class="n">y_test</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span><span class="s1">&#39;y_pred&#39;</span><span class="p">:</span><span class="n">y_pred</span><span class="o">.</span><span class="n">flatten</span><span class="p">()})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>WARNING:tensorflow:Model was constructed with shape (None, 10, 5) for input KerasTensor(type_spec=TensorSpec(shape=(None, 10, 5), dtype=tf.float32, name=&#39;lstm_24_input&#39;), name=&#39;lstm_24_input&#39;, description=&#34;created by layer &#39;lstm_24_input&#39;&#34;), but it was called on an input with incompatible shape (None, 1, 5).
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>WARNING:tensorflow:Model was constructed with shape (None, 10, 5) for input KerasTensor(type_spec=TensorSpec(shape=(None, 10, 5), dtype=tf.float32, name=&#39;lstm_24_input&#39;), name=&#39;lstm_24_input&#39;, description=&#34;created by layer &#39;lstm_24_input&#39;&#34;), but it was called on an input with incompatible shape (None, 1, 5).
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>        y_true      y_pred
0   -30.010010   26.114405
1    20.180176   27.126236
2   -61.709961  -17.084387
3   -12.490234    7.946451
4    78.440186   27.488426
..         ...         ...
120  40.550049   12.756760
121   8.150146  -39.441650
122  75.839844  -46.192448
123  -4.879883  -73.570068
124 -34.430176 -155.441513

[125 rows x 2 columns]
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">results</span><span class="p">[</span><span class="s2">&quot;y_pred&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s2">&quot;y_pred&quot;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;float32&quot;</span><span class="p">)</span>
<span class="n">results</span><span class="p">[</span><span class="s2">&quot;y_true&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s2">&quot;y_true&quot;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;float32&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">backtesting</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(),</span><span class="n">results</span><span class="p">,</span><span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">left_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">buy</span> <span class="o">=</span> <span class="n">backtesting</span><span class="p">[</span><span class="n">backtesting</span><span class="p">[</span><span class="s2">&quot;y_pred&quot;</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">]</span>
<span class="n">sell</span> <span class="o">=</span> <span class="n">backtesting</span><span class="p">[</span><span class="n">backtesting</span><span class="p">[</span><span class="s2">&quot;y_pred&quot;</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">backtesting</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;change&quot;</span><span class="p">],</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,:])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>volume</th>
      <th>positive</th>
      <th>neutral</th>
      <th>negative</th>
      <th>close-1</th>
      <th>change</th>
      <th>y_true</th>
      <th>y_pred</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>17</th>
      <td>2020-07-20</td>
      <td>7598200</td>
      <td>2</td>
      <td>1</td>
      <td>0</td>
      <td>2961.969971</td>
      <td>234.870117</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>93</th>
      <td>2020-11-04</td>
      <td>6839000</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>3048.409912</td>
      <td>192.750000</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>62</th>
      <td>2020-09-22</td>
      <td>6948800</td>
      <td>6</td>
      <td>4</td>
      <td>0</td>
      <td>2960.469971</td>
      <td>168.520020</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2020-07-06</td>
      <td>6880600</td>
      <td>3</td>
      <td>0</td>
      <td>0</td>
      <td>2890.300049</td>
      <td>166.739990</td>
      <td>1.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>76</th>
      <td>2020-10-12</td>
      <td>8364200</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>3286.649902</td>
      <td>156.280029</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>38</th>
      <td>2020-08-18</td>
      <td>5346000</td>
      <td>2</td>
      <td>9</td>
      <td>1</td>
      <td>3182.409912</td>
      <td>130.080078</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>2020-07-01</td>
      <td>6363400</td>
      <td>3</td>
      <td>0</td>
      <td>1</td>
      <td>2758.820068</td>
      <td>119.879883</td>
      <td>1.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>53</th>
      <td>2020-09-09</td>
      <td>5188700</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>3149.840088</td>
      <td>118.770020</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>26</th>
      <td>2020-07-31</td>
      <td>8085500</td>
      <td>6</td>
      <td>13</td>
      <td>1</td>
      <td>3051.879883</td>
      <td>112.800049</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>98</th>
      <td>2020-11-11</td>
      <td>4366900</td>
      <td>2</td>
      <td>1</td>
      <td>5</td>
      <td>3035.020020</td>
      <td>102.369873</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">backtesting</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;change&quot;</span><span class="p">],</span><span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,:],)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>volume</th>
      <th>positive</th>
      <th>neutral</th>
      <th>negative</th>
      <th>close-1</th>
      <th>change</th>
      <th>y_true</th>
      <th>y_pred</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>90</th>
      <td>2020-10-30</td>
      <td>8386400</td>
      <td>3</td>
      <td>12</td>
      <td>5</td>
      <td>3211.010010</td>
      <td>-174.860107</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>96</th>
      <td>2020-11-09</td>
      <td>7190400</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>3311.370117</td>
      <td>-167.630127</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>50</th>
      <td>2020-09-03</td>
      <td>8161100</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>3531.449951</td>
      <td>-163.449951</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>52</th>
      <td>2020-09-08</td>
      <td>6094200</td>
      <td>1</td>
      <td>0</td>
      <td>3</td>
      <td>3294.620117</td>
      <td>-144.780029</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>63</th>
      <td>2020-09-23</td>
      <td>5652700</td>
      <td>3</td>
      <td>9</td>
      <td>1</td>
      <td>3128.989990</td>
      <td>-129.129883</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>88</th>
      <td>2020-10-28</td>
      <td>5588300</td>
      <td>3</td>
      <td>1</td>
      <td>1</td>
      <td>3286.330078</td>
      <td>-123.550049</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>20</th>
      <td>2020-07-23</td>
      <td>5656900</td>
      <td>3</td>
      <td>2</td>
      <td>0</td>
      <td>3099.909912</td>
      <td>-113.359863</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>97</th>
      <td>2020-11-10</td>
      <td>6591000</td>
      <td>1</td>
      <td>2</td>
      <td>2</td>
      <td>3143.739990</td>
      <td>-108.719971</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>72</th>
      <td>2020-10-06</td>
      <td>5086900</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>3199.199951</td>
      <td>-99.239990</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>70</th>
      <td>2020-10-02</td>
      <td>5613100</td>
      <td>4</td>
      <td>3</td>
      <td>0</td>
      <td>3221.260010</td>
      <td>-96.260010</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gain</span> <span class="o">=</span> <span class="n">buy</span><span class="o">.</span><span class="n">change</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">loss</span> <span class="o">=</span> <span class="n">sell</span><span class="o">.</span><span class="n">change</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">profit</span> <span class="o">=</span> <span class="n">gain</span> <span class="o">-</span> <span class="n">loss</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">profit</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>739.820068359375</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">y_true</span><span class="p">,</span><span class="n">results</span><span class="o">.</span><span class="n">y_pred</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>y_pred</th>
      <th>0.0</th>
      <th>1.0</th>
    </tr>
    <tr>
      <th>y_true</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0.0</th>
      <td>49</td>
      <td>12</td>
    </tr>
    <tr>
      <th>1.0</th>
      <td>47</td>
      <td>17</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">positive</span><span class="o">/</span><span class="n">df</span><span class="o">.</span><span class="n">negative</span><span class="o">&gt;</span><span class="mi">5</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test</span><span class="o">.</span><span class="n">change</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>3.987776219844818</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test2</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">negative</span><span class="o">/</span><span class="n">df</span><span class="o">.</span><span class="n">positive</span><span class="o">&gt;</span><span class="mi">5</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test2</span><span class="o">.</span><span class="n">change</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>1.7992342435396635</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test2</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>volume</th>
      <th>positive</th>
      <th>neutral</th>
      <th>negative</th>
      <th>close-1</th>
      <th>change</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2016-02-04</th>
      <td>6199100</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>531.070007</td>
      <td>5.190002</td>
    </tr>
    <tr>
      <th>2016-02-22</th>
      <td>5566600</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>534.900024</td>
      <td>24.599976</td>
    </tr>
    <tr>
      <th>2016-03-08</th>
      <td>4730000</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>562.799988</td>
      <td>-2.539978</td>
    </tr>
    <tr>
      <th>2016-04-01</th>
      <td>2917400</td>
      <td>0</td>
      <td>2</td>
      <td>1</td>
      <td>593.640015</td>
      <td>4.859985</td>
    </tr>
    <tr>
      <th>2016-04-13</th>
      <td>4228300</td>
      <td>0</td>
      <td>3</td>
      <td>1</td>
      <td>603.169983</td>
      <td>11.650024</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2020-09-09</th>
      <td>5188700</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>3149.840088</td>
      <td>118.770020</td>
    </tr>
    <tr>
      <th>2020-10-06</th>
      <td>5086900</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>3199.199951</td>
      <td>-99.239990</td>
    </tr>
    <tr>
      <th>2020-11-03</th>
      <td>4897900</td>
      <td>0</td>
      <td>1</td>
      <td>2</td>
      <td>3004.479980</td>
      <td>43.929932</td>
    </tr>
    <tr>
      <th>2020-11-30</th>
      <td>4063900</td>
      <td>0</td>
      <td>0</td>
      <td>3</td>
      <td>3195.340088</td>
      <td>-27.300049</td>
    </tr>
    <tr>
      <th>2020-12-07</th>
      <td>2751300</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>3162.580078</td>
      <td>-4.580078</td>
    </tr>
  </tbody>
</table>
<p>78 rows × 6 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span><span class="p">),</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;BarContainer object of 3 artists&gt;</pre>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
" />
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">amzn</span> <span class="o">=</span> <span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Apple">Apple<a class="anchor-link" href="#Apple"> </a></h1>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">stock</span> <span class="o">=</span> <span class="s2">&quot;Apple&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#Configuration</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">twint</span><span class="o">.</span><span class="n">Config</span><span class="p">()</span>

<span class="n">c</span><span class="o">.</span><span class="n">Username</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;CNBC&quot;</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">Search</span> <span class="o">=</span> <span class="n">stock</span>
<span class="n">c</span><span class="o">.</span><span class="n">Since</span> <span class="o">=</span> <span class="s2">&quot;2015-1-1&quot;</span>
<span class="n">c</span><span class="o">.</span><span class="n">Count</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">c</span><span class="o">.</span><span class="n">Filter_retweets</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">c</span><span class="o">.</span><span class="n">Pandas</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">twint</span><span class="o">.</span><span class="n">run</span><span class="o">.</span><span class="n">Search</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">twint</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">panda</span><span class="o">.</span><span class="n">Tweets_df</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_cnbc</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span><span class="s1">&#39;date&#39;</span><span class="p">,</span><span class="s1">&#39;tweet&#39;</span><span class="p">,</span><span class="s1">&#39;hashtags&#39;</span><span class="p">,</span><span class="s1">&#39;username&#39;</span><span class="p">,</span><span class="s1">&#39;search&#39;</span><span class="p">]]</span>
<span class="n">df_cnbc</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>date</th>
      <th>tweet</th>
      <th>hashtags</th>
      <th>username</th>
      <th>search</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1346095039328481280</td>
      <td>2021-01-04 14:04:01</td>
      <td>Why Apple became a $2 trillion company in 2020...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Apple</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1345890186400583681</td>
      <td>2021-01-04 00:30:00</td>
      <td>These married former Apple execs used lessons ...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Apple</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1345681045862162432</td>
      <td>2021-01-03 10:38:57</td>
      <td>Elon Musk says he once tried to sell Tesla to ...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Apple</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1345646915170480128</td>
      <td>2021-01-03 08:23:20</td>
      <td>These married former Apple execs used lessons ...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Apple</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1345507500456607752</td>
      <td>2021-01-02 23:09:21</td>
      <td>These married former Apple execs used lessons ...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Apple</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_cnbc</span><span class="o">.</span><span class="n">tweet</span> <span class="o">=</span> <span class="n">df_cnbc</span><span class="o">.</span><span class="n">tweet</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">sneaky_cleanup</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/usr/local/lib/python3.6/dist-packages/pandas/core/generic.py:5170: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  self[name] = value
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">polarity</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
  <span class="k">return</span> <span class="n">TextBlob</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">sentiment</span><span class="o">.</span><span class="n">polarity</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_cnbc</span><span class="p">[</span><span class="s2">&quot;polarity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_cnbc</span><span class="p">[</span><span class="s2">&quot;tweet&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">polarity</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/usr/local/lib/python3.6/dist-packages/ipykernel_launcher.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  &#34;&#34;&#34;Entry point for launching an IPython kernel.
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_cnbc</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>date</th>
      <th>tweet</th>
      <th>hashtags</th>
      <th>username</th>
      <th>search</th>
      <th>polarity</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1343978847335821319</td>
      <td>2020-12-29 17:55:01</td>
      <td>New Here Michael top 10 stock including Check</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Apple</td>
      <td>0.318182</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1343959912343334914</td>
      <td>2020-12-29 16:39:47</td>
      <td>Stick winner Microsoft drive market two trader...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Apple</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1343931413893156864</td>
      <td>2020-12-29 14:46:32</td>
      <td>These married former Apple exec used lesson le...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Apple</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1343558075211505665</td>
      <td>2020-12-28 14:03:01</td>
      <td>Top Apple analyst pours cold water latest Appl...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Apple</td>
      <td>0.133333</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1342138013703434240</td>
      <td>2020-12-24 16:00:12</td>
      <td>Stocks making biggest move</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Apple</td>
      <td>0.000000</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#Configuration</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">twint</span><span class="o">.</span><span class="n">Config</span><span class="p">()</span>

<span class="n">c</span><span class="o">.</span><span class="n">Username</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;business&quot;</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">Search</span> <span class="o">=</span> <span class="n">stock</span>
<span class="n">c</span><span class="o">.</span><span class="n">Since</span> <span class="o">=</span> <span class="s2">&quot;2015-1-1&quot;</span>
<span class="n">c</span><span class="o">.</span><span class="n">Count</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">c</span><span class="o">.</span><span class="n">Filter_retweets</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">c</span><span class="o">.</span><span class="n">Pandas</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">twint</span><span class="o">.</span><span class="n">run</span><span class="o">.</span><span class="n">Search</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">twint</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">panda</span><span class="o">.</span><span class="n">Tweets_df</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_bloom</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span><span class="s1">&#39;date&#39;</span><span class="p">,</span><span class="s1">&#39;tweet&#39;</span><span class="p">,</span><span class="s1">&#39;hashtags&#39;</span><span class="p">,</span><span class="s1">&#39;username&#39;</span><span class="p">,</span><span class="s1">&#39;search&#39;</span><span class="p">]]</span>
<span class="n">df_bloom</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>date</th>
      <th>tweet</th>
      <th>hashtags</th>
      <th>username</th>
      <th>search</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1344658083763650561</td>
      <td>2020-12-31 14:54:04</td>
      <td>Apple shares rose, suggesting it will end a ye...</td>
      <td>[]</td>
      <td>business</td>
      <td>Apple</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1344215908085092352</td>
      <td>2020-12-30 09:37:01</td>
      <td>Apple lost its copyright claims against a Flor...</td>
      <td>[]</td>
      <td>business</td>
      <td>Apple</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1344132886283362310</td>
      <td>2020-12-30 04:07:07</td>
      <td>Apple lost its copyright claims against a Flor...</td>
      <td>[]</td>
      <td>business</td>
      <td>Apple</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1344025168142860291</td>
      <td>2020-12-29 20:59:05</td>
      <td>Apple lost its copyright claims against a Flor...</td>
      <td>[]</td>
      <td>business</td>
      <td>Apple</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1343944868608016387</td>
      <td>2020-12-29 15:40:00</td>
      <td>Apple shares rallied to an intraday record on ...</td>
      <td>[]</td>
      <td>business</td>
      <td>Apple</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>5247</th>
      <td>555085364332093440</td>
      <td>2015-01-13 19:33:58</td>
      <td>BREAKING: GoPro plunges after Apple gains remo...</td>
      <td>[]</td>
      <td>business</td>
      <td>Apple</td>
    </tr>
    <tr>
      <th>5248</th>
      <td>553253586545934337</td>
      <td>2015-01-08 18:15:08</td>
      <td>Apple says the company has created or supporte...</td>
      <td>[]</td>
      <td>business</td>
      <td>Apple</td>
    </tr>
    <tr>
      <th>5249</th>
      <td>552994362595241984</td>
      <td>2015-01-08 01:05:04</td>
      <td>Xiaomi’s buying spree gives Apple and Samsung ...</td>
      <td>[]</td>
      <td>business</td>
      <td>Apple</td>
    </tr>
    <tr>
      <th>5250</th>
      <td>552104052486840320</td>
      <td>2015-01-05 14:07:18</td>
      <td>Amazon reps are taking over CES, and Apple is ...</td>
      <td>[]</td>
      <td>business</td>
      <td>Apple</td>
    </tr>
    <tr>
      <th>5251</th>
      <td>550626425355894785</td>
      <td>2015-01-01 12:15:44</td>
      <td>Two Apple customers have sued the company for ...</td>
      <td>[]</td>
      <td>business</td>
      <td>Apple</td>
    </tr>
  </tbody>
</table>
<p>5252 rows × 6 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_bloom</span><span class="o">.</span><span class="n">tweet</span> <span class="o">=</span> <span class="n">df_bloom</span><span class="o">.</span><span class="n">tweet</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">sneaky_cleanup</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/usr/local/lib/python3.6/dist-packages/pandas/core/generic.py:5170: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  self[name] = value
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_bloom</span><span class="p">[</span><span class="s2">&quot;polarity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_bloom</span><span class="p">[</span><span class="s2">&quot;tweet&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">polarity</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/usr/local/lib/python3.6/dist-packages/ipykernel_launcher.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  &#34;&#34;&#34;Entry point for launching an IPython kernel.
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#Configuration</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">twint</span><span class="o">.</span><span class="n">Config</span><span class="p">()</span>

<span class="n">c</span><span class="o">.</span><span class="n">Username</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;WSJ&quot;</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">Search</span> <span class="o">=</span> <span class="n">stock</span>
<span class="n">c</span><span class="o">.</span><span class="n">Since</span> <span class="o">=</span> <span class="s2">&quot;2015-1-1&quot;</span>
<span class="n">c</span><span class="o">.</span><span class="n">Count</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">c</span><span class="o">.</span><span class="n">Filter_retweets</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">c</span><span class="o">.</span><span class="n">Pandas</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">twint</span><span class="o">.</span><span class="n">run</span><span class="o">.</span><span class="n">Search</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">twint</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">panda</span><span class="o">.</span><span class="n">Tweets_df</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_wsj</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span><span class="s1">&#39;date&#39;</span><span class="p">,</span><span class="s1">&#39;tweet&#39;</span><span class="p">,</span><span class="s1">&#39;hashtags&#39;</span><span class="p">,</span><span class="s1">&#39;username&#39;</span><span class="p">,</span><span class="s1">&#39;search&#39;</span><span class="p">]]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_wsj</span><span class="o">.</span><span class="n">tweet</span> <span class="o">=</span> <span class="n">df_wsj</span><span class="o">.</span><span class="n">tweet</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">sneaky_cleanup</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/usr/local/lib/python3.6/dist-packages/pandas/core/generic.py:5170: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  self[name] = value
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_wsj</span><span class="p">[</span><span class="s2">&quot;polarity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_wsj</span><span class="p">[</span><span class="s2">&quot;tweet&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">polarity</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/usr/local/lib/python3.6/dist-packages/ipykernel_launcher.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  &#34;&#34;&#34;Entry point for launching an IPython kernel.
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">frames</span><span class="o">=</span><span class="p">[</span><span class="n">df_cnbc</span><span class="p">,</span><span class="n">df_bloom</span><span class="p">,</span><span class="n">df_wsj</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">frames</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">merged</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">merged</span><span class="o">.</span><span class="n">date</span><span class="p">)</span>
<span class="n">merged</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">merged</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">positive</span> <span class="o">=</span> <span class="n">merged</span><span class="p">[</span><span class="n">merged</span><span class="p">[</span><span class="s2">&quot;polarity&quot;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span>
<span class="n">neutral</span> <span class="o">=</span> <span class="n">merged</span><span class="p">[</span><span class="n">merged</span><span class="p">[</span><span class="s2">&quot;polarity&quot;</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">]</span>
<span class="n">negative</span> <span class="o">=</span> <span class="n">merged</span><span class="p">[</span><span class="n">merged</span><span class="p">[</span><span class="s2">&quot;polarity&quot;</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">positive</span> <span class="o">=</span> <span class="n">positive</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">)[</span><span class="s1">&#39;polarity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">neutral</span> <span class="o">=</span> <span class="n">neutral</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">)[</span><span class="s1">&#39;polarity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">negative</span> <span class="o">=</span> <span class="n">negative</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">)[</span><span class="s1">&#39;polarity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">positive</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">positive</span><span class="p">)</span>
<span class="n">neutral</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">neutral</span><span class="p">)</span>
<span class="n">negative</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">negative</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">positive</span><span class="p">[</span><span class="s2">&quot;positive&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">positive</span><span class="o">.</span><span class="n">polarity</span>
<span class="n">neutral</span><span class="p">[</span><span class="s2">&quot;neutral&quot;</span><span class="p">]</span><span class="o">=</span><span class="n">neutral</span><span class="o">.</span><span class="n">polarity</span>
<span class="n">negative</span><span class="p">[</span><span class="s2">&quot;negative&quot;</span><span class="p">]</span><span class="o">=</span><span class="n">negative</span><span class="o">.</span><span class="n">polarity</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">positive</span><span class="p">,</span><span class="n">neutral</span><span class="p">,</span><span class="n">left_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sentiment</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df2</span><span class="p">,</span><span class="n">negative</span><span class="p">,</span><span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">left_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">yf</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s2">&quot;AAPL&quot;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="n">start_date</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">end_date</span><span class="p">,</span> <span class="n">progress</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="s1">&#39;1d&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">w</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df</span><span class="p">,</span><span class="n">sentiment</span><span class="p">,</span><span class="n">left_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;close-1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;change&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;close&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="c1">#df[&#39;change_pred&#39;] = (df[&quot;close&quot;] - df[&#39;close&#39;].shift(-1, fill_value=df[&#39;change&#39;].iloc[1]))*-1</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s2">&quot;open&quot;</span><span class="p">,</span><span class="s2">&quot;polarity_x&quot;</span><span class="p">,</span><span class="s2">&quot;polarity_y&quot;</span><span class="p">,</span><span class="s2">&quot;polarity&quot;</span><span class="p">,</span><span class="s2">&quot;adj close&quot;</span><span class="p">,</span><span class="s2">&quot;close&quot;</span><span class="p">,</span><span class="s2">&quot;high&quot;</span><span class="p">,</span><span class="s2">&quot;low&quot;</span><span class="p">],</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Since we want to predict the closing stock price for the following day, we just shift the closing price one day to get our y value.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Since we are working with sequential data, we dont use train_test_split. Insted we pick the first 80% of obersavations as training set, and the remaning as testing set.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="n">train</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="o">-</span><span class="n">test_size</span><span class="p">,:]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> 
<span class="n">test</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="n">test_size</span><span class="p">:,:]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We split the dataset into x values and y values. We also specify .values, since the date is not relevant for the training and dosn't work with some of the later preprocessing</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X_train</span> <span class="o">=</span> <span class="n">train</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">y_train</span> <span class="o">=</span> <span class="n">train</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="n">X_test</span> <span class="o">=</span> <span class="n">test</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">y_test</span> <span class="o">=</span> <span class="n">test</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">MinMaxScaler</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We scale all our values to be between -1 and 1. This should help the accuracy of the model.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">x_scaler</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">(</span><span class="n">feature_range</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">y_scaler</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">(</span><span class="n">feature_range</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X_train</span> <span class="o">=</span> <span class="n">x_scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">y_train</span> <span class="o">=</span> <span class="n">y_scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y_train</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>


<span class="n">X_test</span> <span class="o">=</span> <span class="n">x_scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">y_test</span> <span class="o">=</span> <span class="n">y_scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y_test</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X_train</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="p">(</span><span class="n">X_train</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">X_test</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">X_test</span><span class="p">,</span> <span class="p">(</span><span class="n">X_test</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">keras.preprocessing.sequence</span> <span class="kn">import</span> <span class="n">TimeseriesGenerator</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we start making our RNN model.</p>
<p>n_input = how many days we look in the past to predict the next sample. We chose 20 mostly by trial and error.</p>
<p>We set epochs to 100. It's our experience that the more you train the model, the more it will try to predict the daily volatility. If we only trained it for eg. 10 epochs, the model would make a soft curve which didn't look like a real stock development. By trail and error we found 100 to be the best training amount.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">n_input</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">n_features</span><span class="o">=</span> <span class="n">X_train</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="c1"># how many predictors/Xs/features we have to predict y</span>
<span class="n">b_size</span> <span class="o">=</span> <span class="mi">10</span> <span class="c1"># Number of timeseries samples in each batch</span>
<span class="n">epochs</span> <span class="o">=</span> <span class="mi">200</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Since we are working with sequential stock data we chose an LSTM model, which is a RNN model.
Activation function is set to relu, and optimizer is adam, since these are the standard for this kind of task.
We chose 2 layers with 50 units each, and once again done by trial and error.</p>
<p>Since we want to predict the actual stock price we use mse(mean squared error) as our loss fuction.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">Sequential</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">LSTM</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s1">&#39;relu&#39;</span><span class="p">,</span><span class="n">return_sequences</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">input_shape</span><span class="o">=</span><span class="p">(</span><span class="n">n_input</span><span class="p">,</span> <span class="n">n_features</span><span class="p">)))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Dropout</span><span class="p">(</span><span class="mf">0.2</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">LSTM</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s1">&#39;relu&#39;</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Dense</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">optimizer</span><span class="o">=</span><span class="s1">&#39;adam&#39;</span><span class="p">,</span> <span class="n">loss</span><span class="o">=</span><span class="s1">&#39;MSE&#39;</span><span class="p">,</span><span class="n">metrics</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;MSE&#39;</span><span class="p">])</span>
<span class="n">model</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Model: &#34;sequential_22&#34;
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
lstm_44 (LSTM)               (None, 10, 50)            11200     
_________________________________________________________________
dropout_22 (Dropout)         (None, 10, 50)            0         
_________________________________________________________________
lstm_45 (LSTM)               (None, 50)                20200     
_________________________________________________________________
dense_22 (Dense)             (None, 1)                 51        
=================================================================
Total params: 31,451
Trainable params: 31,451
Non-trainable params: 0
_________________________________________________________________
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span><span class="n">y_train</span><span class="p">,</span><span class="n">epochs</span><span class="o">=</span><span class="n">epochs</span><span class="p">,</span><span class="n">verbose</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This looks like overfitting, but it works the best in our case.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">loss_per_epoch</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">history</span><span class="o">.</span><span class="n">history</span><span class="p">[</span><span class="s1">&#39;loss&#39;</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">loss_per_epoch</span><span class="p">)),</span><span class="n">loss_per_epoch</span><span class="p">);</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
" />
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Then we do some data processing to get it back to the orginal format, so we can compare the real data to the predictions.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y_pred_scaled</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">y_scaler</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_pred_scaled</span><span class="p">)</span>
<span class="n">y_test</span> <span class="o">=</span> <span class="n">y_scaler</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_test</span><span class="p">)</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;y_true&#39;</span><span class="p">:</span><span class="n">y_test</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span><span class="s1">&#39;y_pred&#39;</span><span class="p">:</span><span class="n">y_pred</span><span class="o">.</span><span class="n">flatten</span><span class="p">()})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>WARNING:tensorflow:Model was constructed with shape (None, 10, 5) for input KerasTensor(type_spec=TensorSpec(shape=(None, 10, 5), dtype=tf.float32, name=&#39;lstm_44_input&#39;), name=&#39;lstm_44_input&#39;, description=&#34;created by layer &#39;lstm_44_input&#39;&#34;), but it was called on an input with incompatible shape (None, 1, 5).
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>WARNING:tensorflow:Model was constructed with shape (None, 10, 5) for input KerasTensor(type_spec=TensorSpec(shape=(None, 10, 5), dtype=tf.float32, name=&#39;lstm_44_input&#39;), name=&#39;lstm_44_input&#39;, description=&#34;created by layer &#39;lstm_44_input&#39;&#34;), but it was called on an input with incompatible shape (None, 1, 5).
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>       y_true    y_pred
0   -1.617500  0.765720
1    1.195000  0.823268
2   -2.802498  0.445819
3    2.037498  0.458753
4    0.754997  0.759976
..        ...       ...
120 -0.630005  0.573415
121  6.099998 -0.138065
122 -0.070000  0.289773
123  0.889999  0.257777
124 -2.039993 -5.833440

[125 rows x 2 columns]
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">results</span><span class="p">[</span><span class="s2">&quot;y_pred&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s2">&quot;y_pred&quot;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;float32&quot;</span><span class="p">)</span>
<span class="n">results</span><span class="p">[</span><span class="s2">&quot;y_true&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s2">&quot;y_true&quot;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;float32&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">backtesting</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(),</span><span class="n">results</span><span class="p">,</span><span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">left_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">buy</span> <span class="o">=</span> <span class="n">backtesting</span><span class="p">[</span><span class="n">backtesting</span><span class="p">[</span><span class="s2">&quot;y_pred&quot;</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">]</span>
<span class="n">sell</span> <span class="o">=</span> <span class="n">backtesting</span><span class="p">[</span><span class="n">backtesting</span><span class="p">[</span><span class="s2">&quot;y_pred&quot;</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gain</span> <span class="o">=</span> <span class="n">buy</span><span class="o">.</span><span class="n">change</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">loss</span> <span class="o">=</span> <span class="n">sell</span><span class="o">.</span><span class="n">change</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">profit</span> <span class="o">=</span> <span class="n">gain</span> <span class="o">-</span> <span class="n">loss</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">profit</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>29.352500915527344</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">y_true</span><span class="p">,</span><span class="n">results</span><span class="o">.</span><span class="n">y_pred</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>y_pred</th>
      <th>0.0</th>
      <th>1.0</th>
    </tr>
    <tr>
      <th>y_true</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0.0</th>
      <td>23</td>
      <td>34</td>
    </tr>
    <tr>
      <th>1.0</th>
      <td>24</td>
      <td>44</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">backtesting</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;change&quot;</span><span class="p">],</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,:])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>volume</th>
      <th>positive</th>
      <th>neutral</th>
      <th>negative</th>
      <th>close-1</th>
      <th>change</th>
      <th>y_true</th>
      <th>y_pred</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>26</th>
      <td>2020-07-31</td>
      <td>374336800</td>
      <td>10</td>
      <td>18</td>
      <td>7</td>
      <td>96.190002</td>
      <td>10.070000</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>76</th>
      <td>2020-10-12</td>
      <td>240226800</td>
      <td>5</td>
      <td>4</td>
      <td>0</td>
      <td>116.970001</td>
      <td>7.430000</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>121</th>
      <td>2020-12-15</td>
      <td>157572300</td>
      <td>1</td>
      <td>5</td>
      <td>0</td>
      <td>121.779999</td>
      <td>6.099998</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>41</th>
      <td>2020-08-21</td>
      <td>338054800</td>
      <td>2</td>
      <td>3</td>
      <td>0</td>
      <td>118.275002</td>
      <td>6.095001</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>48</th>
      <td>2020-09-01</td>
      <td>152470100</td>
      <td>7</td>
      <td>9</td>
      <td>4</td>
      <td>129.039993</td>
      <td>5.139999</td>
      <td>1.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>93</th>
      <td>2020-11-04</td>
      <td>138235500</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>110.440002</td>
      <td>4.509995</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>53</th>
      <td>2020-09-09</td>
      <td>176940500</td>
      <td>9</td>
      <td>5</td>
      <td>1</td>
      <td>112.820000</td>
      <td>4.500000</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>47</th>
      <td>2020-08-31</td>
      <td>225702700</td>
      <td>1</td>
      <td>4</td>
      <td>2</td>
      <td>124.807503</td>
      <td>4.232491</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>89</th>
      <td>2020-10-29</td>
      <td>146129200</td>
      <td>2</td>
      <td>3</td>
      <td>0</td>
      <td>111.199997</td>
      <td>4.120003</td>
      <td>1.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>94</th>
      <td>2020-11-05</td>
      <td>126387100</td>
      <td>2</td>
      <td>1</td>
      <td>0</td>
      <td>114.949997</td>
      <td>4.080002</td>
      <td>1.0</td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">backtesting</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;change&quot;</span><span class="p">],</span><span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,:])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>volume</th>
      <th>positive</th>
      <th>neutral</th>
      <th>negative</th>
      <th>close-1</th>
      <th>change</th>
      <th>y_true</th>
      <th>y_pred</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>50</th>
      <td>2020-09-03</td>
      <td>257599600</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>131.399994</td>
      <td>-10.519997</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>52</th>
      <td>2020-09-08</td>
      <td>231366600</td>
      <td>4</td>
      <td>0</td>
      <td>1</td>
      <td>120.959999</td>
      <td>-8.139999</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>90</th>
      <td>2020-10-30</td>
      <td>190272600</td>
      <td>7</td>
      <td>20</td>
      <td>3</td>
      <td>115.320000</td>
      <td>-6.459999</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>88</th>
      <td>2020-10-28</td>
      <td>143937800</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>116.599998</td>
      <td>-5.400002</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>63</th>
      <td>2020-09-23</td>
      <td>150718700</td>
      <td>4</td>
      <td>0</td>
      <td>0</td>
      <td>111.809998</td>
      <td>-4.689995</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>20</th>
      <td>2020-07-23</td>
      <td>197004400</td>
      <td>4</td>
      <td>8</td>
      <td>1</td>
      <td>97.272499</td>
      <td>-4.427498</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>54</th>
      <td>2020-09-10</td>
      <td>182274400</td>
      <td>3</td>
      <td>1</td>
      <td>1</td>
      <td>117.320000</td>
      <td>-3.830002</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>70</th>
      <td>2020-10-02</td>
      <td>144712000</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>116.790001</td>
      <td>-3.770004</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>60</th>
      <td>2020-09-18</td>
      <td>287104900</td>
      <td>9</td>
      <td>1</td>
      <td>0</td>
      <td>110.339996</td>
      <td>-3.500000</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>106</th>
      <td>2020-11-23</td>
      <td>127959300</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>117.339996</td>
      <td>-3.489998</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">positive</span><span class="o">/</span><span class="n">df</span><span class="o">.</span><span class="n">negative</span><span class="o">&gt;</span><span class="mi">2</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test</span><span class="o">.</span><span class="n">change</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0.10700668902010531</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test2</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">negative</span><span class="o">/</span><span class="n">df</span><span class="o">.</span><span class="n">positive</span><span class="o">&gt;</span><span class="mi">2</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test2</span><span class="o">.</span><span class="n">change</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>-0.1054882838808257</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">aapl</span> <span class="o">=</span> <span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Pfizer">Pfizer<a class="anchor-link" href="#Pfizer"> </a></h1>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">stock</span> <span class="o">=</span> <span class="s2">&quot;Pfizer&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#Configuration</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">twint</span><span class="o">.</span><span class="n">Config</span><span class="p">()</span>

<span class="n">c</span><span class="o">.</span><span class="n">Username</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;CNBC&quot;</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">Search</span> <span class="o">=</span> <span class="n">stock</span>
<span class="n">c</span><span class="o">.</span><span class="n">Since</span> <span class="o">=</span> <span class="s2">&quot;2015-1-1&quot;</span>
<span class="n">c</span><span class="o">.</span><span class="n">Count</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">c</span><span class="o">.</span><span class="n">Filter_retweets</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">c</span><span class="o">.</span><span class="n">Pandas</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">twint</span><span class="o">.</span><span class="n">run</span><span class="o">.</span><span class="n">Search</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">twint</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">panda</span><span class="o">.</span><span class="n">Tweets_df</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_cnbc</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span><span class="s1">&#39;date&#39;</span><span class="p">,</span><span class="s1">&#39;tweet&#39;</span><span class="p">,</span><span class="s1">&#39;hashtags&#39;</span><span class="p">,</span><span class="s1">&#39;username&#39;</span><span class="p">,</span><span class="s1">&#39;search&#39;</span><span class="p">]]</span>
<span class="n">df_cnbc</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>date</th>
      <th>tweet</th>
      <th>hashtags</th>
      <th>username</th>
      <th>search</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1344747890607087616</td>
      <td>2020-12-31 20:50:55</td>
      <td>Doctors criticize UK health officials for chan...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Pfizer</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1341784853130469377</td>
      <td>2020-12-23 16:36:52</td>
      <td>Stocks making the biggest moves midday: Pfizer...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Pfizer</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1341781524027469825</td>
      <td>2020-12-23 16:23:39</td>
      <td>LISTEN NOW: U.S. orders 100 million more Pfize...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Pfizer</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1341778065182101504</td>
      <td>2020-12-23 16:09:54</td>
      <td>Dubai is offering the Pfizer vaccine to reside...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Pfizer</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1341737781937266690</td>
      <td>2020-12-23 13:29:50</td>
      <td>Covid live updates: U.S. orders 100 million mo...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Pfizer</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_cnbc</span><span class="o">.</span><span class="n">tweet</span> <span class="o">=</span> <span class="n">df_cnbc</span><span class="o">.</span><span class="n">tweet</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">sneaky_cleanup</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/usr/local/lib/python3.6/dist-packages/pandas/core/generic.py:5170: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  self[name] = value
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">polarity</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
  <span class="k">return</span> <span class="n">TextBlob</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">sentiment</span><span class="o">.</span><span class="n">polarity</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_cnbc</span><span class="p">[</span><span class="s2">&quot;polarity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_cnbc</span><span class="p">[</span><span class="s2">&quot;tweet&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">polarity</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/usr/local/lib/python3.6/dist-packages/ipykernel_launcher.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  &#34;&#34;&#34;Entry point for launching an IPython kernel.
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_cnbc</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>date</th>
      <th>tweet</th>
      <th>hashtags</th>
      <th>username</th>
      <th>search</th>
      <th>polarity</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1344747890607087616</td>
      <td>2020-12-31 20:50:55</td>
      <td>Doctors criticize UK health official changing ...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Pfizer</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1341784853130469377</td>
      <td>2020-12-23 16:36:52</td>
      <td>Stocks making biggest move FuboTV</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Pfizer</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1341781524027469825</td>
      <td>2020-12-23 16:23:39</td>
      <td>LISTEN order 100 million Pfizer vaccine Listen...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Pfizer</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1341778065182101504</td>
      <td>2020-12-23 16:09:54</td>
      <td>Dubai offering Pfizer vaccine resident free ad...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Pfizer</td>
      <td>0.400000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1341737781937266690</td>
      <td>2020-12-23 13:29:50</td>
      <td>Covid live order 100 million Pfizer vaccine si...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Pfizer</td>
      <td>0.136364</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#Configuration</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">twint</span><span class="o">.</span><span class="n">Config</span><span class="p">()</span>

<span class="n">c</span><span class="o">.</span><span class="n">Username</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;business&quot;</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">Search</span> <span class="o">=</span> <span class="n">stock</span>
<span class="n">c</span><span class="o">.</span><span class="n">Since</span> <span class="o">=</span> <span class="s2">&quot;2015-1-1&quot;</span>
<span class="n">c</span><span class="o">.</span><span class="n">Count</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">c</span><span class="o">.</span><span class="n">Filter_retweets</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">c</span><span class="o">.</span><span class="n">Pandas</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">twint</span><span class="o">.</span><span class="n">run</span><span class="o">.</span><span class="n">Search</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">twint</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">panda</span><span class="o">.</span><span class="n">Tweets_df</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_bloom</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span><span class="s1">&#39;date&#39;</span><span class="p">,</span><span class="s1">&#39;tweet&#39;</span><span class="p">,</span><span class="s1">&#39;hashtags&#39;</span><span class="p">,</span><span class="s1">&#39;username&#39;</span><span class="p">,</span><span class="s1">&#39;search&#39;</span><span class="p">]]</span>
<span class="n">df_bloom</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>date</th>
      <th>tweet</th>
      <th>hashtags</th>
      <th>username</th>
      <th>search</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1345742731520389120</td>
      <td>2021-01-03 14:44:04</td>
      <td>Pfizer and BioNTech have offered to supply Afr...</td>
      <td>[]</td>
      <td>business</td>
      <td>Pfizer</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1345692721370058752</td>
      <td>2021-01-03 11:25:21</td>
      <td>Pfizer and BioNTech have offered to supply Afr...</td>
      <td>[]</td>
      <td>business</td>
      <td>Pfizer</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1344704616412360705</td>
      <td>2020-12-31 17:58:58</td>
      <td>Pfizer said the second dose of its Covid-19 va...</td>
      <td>[]</td>
      <td>business</td>
      <td>Pfizer</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1343983387690807299</td>
      <td>2020-12-29 18:13:04</td>
      <td>The European Union will trigger an option to b...</td>
      <td>[]</td>
      <td>business</td>
      <td>Pfizer</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1343870382999293953</td>
      <td>2020-12-29 10:44:01</td>
      <td>Dubai aims to vaccinate 70% of its population ...</td>
      <td>[]</td>
      <td>business</td>
      <td>Pfizer</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>386</th>
      <td>608004356533821440</td>
      <td>2015-06-08 20:15:09</td>
      <td>Internal Pfizer document warns of potential li...</td>
      <td>[]</td>
      <td>business</td>
      <td>Pfizer</td>
    </tr>
    <tr>
      <th>387</th>
      <td>582567548358623232</td>
      <td>2015-03-30 15:38:21</td>
      <td>Erections and pain are powering Pfizer's $1.4 ...</td>
      <td>[]</td>
      <td>business</td>
      <td>Pfizer</td>
    </tr>
    <tr>
      <th>388</th>
      <td>563697441485365249</td>
      <td>2015-02-06 13:55:17</td>
      <td>Pfizer's shopping spree is just getting starte...</td>
      <td>[]</td>
      <td>business</td>
      <td>Pfizer</td>
    </tr>
    <tr>
      <th>389</th>
      <td>563502577896419328</td>
      <td>2015-02-06 01:00:58</td>
      <td>Viagra-maker Pfizer just spent $17 billion on ...</td>
      <td>[]</td>
      <td>business</td>
      <td>Pfizer</td>
    </tr>
    <tr>
      <th>390</th>
      <td>563327473551962112</td>
      <td>2015-02-05 13:25:10</td>
      <td>Pfizer to buy Hospira in $17 billion deal  htt...</td>
      <td>[]</td>
      <td>business</td>
      <td>Pfizer</td>
    </tr>
  </tbody>
</table>
<p>391 rows × 6 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_bloom</span><span class="o">.</span><span class="n">tweet</span> <span class="o">=</span> <span class="n">df_bloom</span><span class="o">.</span><span class="n">tweet</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">sneaky_cleanup</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/usr/local/lib/python3.6/dist-packages/pandas/core/generic.py:5170: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  self[name] = value
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_bloom</span><span class="p">[</span><span class="s2">&quot;polarity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_bloom</span><span class="p">[</span><span class="s2">&quot;tweet&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">polarity</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/usr/local/lib/python3.6/dist-packages/ipykernel_launcher.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  &#34;&#34;&#34;Entry point for launching an IPython kernel.
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#Configuration</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">twint</span><span class="o">.</span><span class="n">Config</span><span class="p">()</span>

<span class="n">c</span><span class="o">.</span><span class="n">Username</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;WSJ&quot;</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">Search</span> <span class="o">=</span> <span class="n">stock</span>
<span class="n">c</span><span class="o">.</span><span class="n">Since</span> <span class="o">=</span> <span class="s2">&quot;2015-1-1&quot;</span>
<span class="n">c</span><span class="o">.</span><span class="n">Count</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">c</span><span class="o">.</span><span class="n">Filter_retweets</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">c</span><span class="o">.</span><span class="n">Pandas</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">twint</span><span class="o">.</span><span class="n">run</span><span class="o">.</span><span class="n">Search</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">twint</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">panda</span><span class="o">.</span><span class="n">Tweets_df</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_wsj</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span><span class="s1">&#39;date&#39;</span><span class="p">,</span><span class="s1">&#39;tweet&#39;</span><span class="p">,</span><span class="s1">&#39;hashtags&#39;</span><span class="p">,</span><span class="s1">&#39;username&#39;</span><span class="p">,</span><span class="s1">&#39;search&#39;</span><span class="p">]]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_wsj</span><span class="o">.</span><span class="n">tweet</span> <span class="o">=</span> <span class="n">df_wsj</span><span class="o">.</span><span class="n">tweet</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">sneaky_cleanup</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/usr/local/lib/python3.6/dist-packages/pandas/core/generic.py:5170: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  self[name] = value
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_wsj</span><span class="p">[</span><span class="s2">&quot;polarity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_wsj</span><span class="p">[</span><span class="s2">&quot;tweet&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">polarity</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/usr/local/lib/python3.6/dist-packages/ipykernel_launcher.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  &#34;&#34;&#34;Entry point for launching an IPython kernel.
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">frames</span><span class="o">=</span><span class="p">[</span><span class="n">df_cnbc</span><span class="p">,</span><span class="n">df_bloom</span><span class="p">,</span><span class="n">df_wsj</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">frames</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">merged</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">merged</span><span class="o">.</span><span class="n">date</span><span class="p">)</span>
<span class="n">merged</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">merged</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">positive</span> <span class="o">=</span> <span class="n">merged</span><span class="p">[</span><span class="n">merged</span><span class="p">[</span><span class="s2">&quot;polarity&quot;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span>
<span class="n">neutral</span> <span class="o">=</span> <span class="n">merged</span><span class="p">[</span><span class="n">merged</span><span class="p">[</span><span class="s2">&quot;polarity&quot;</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">]</span>
<span class="n">negative</span> <span class="o">=</span> <span class="n">merged</span><span class="p">[</span><span class="n">merged</span><span class="p">[</span><span class="s2">&quot;polarity&quot;</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">positive</span> <span class="o">=</span> <span class="n">positive</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">)[</span><span class="s1">&#39;polarity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">neutral</span> <span class="o">=</span> <span class="n">neutral</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">)[</span><span class="s1">&#39;polarity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">negative</span> <span class="o">=</span> <span class="n">negative</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">)[</span><span class="s1">&#39;polarity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">positive</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">positive</span><span class="p">)</span>
<span class="n">neutral</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">neutral</span><span class="p">)</span>
<span class="n">negative</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">negative</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">positive</span><span class="p">[</span><span class="s2">&quot;positive&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">positive</span><span class="o">.</span><span class="n">polarity</span>
<span class="n">neutral</span><span class="p">[</span><span class="s2">&quot;neutral&quot;</span><span class="p">]</span><span class="o">=</span><span class="n">neutral</span><span class="o">.</span><span class="n">polarity</span>
<span class="n">negative</span><span class="p">[</span><span class="s2">&quot;negative&quot;</span><span class="p">]</span><span class="o">=</span><span class="n">negative</span><span class="o">.</span><span class="n">polarity</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">positive</span><span class="p">,</span><span class="n">neutral</span><span class="p">,</span><span class="n">left_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sentiment</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df2</span><span class="p">,</span><span class="n">negative</span><span class="p">,</span><span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">left_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">yf</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s2">&quot;PFE&quot;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="n">start_date</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">end_date</span><span class="p">,</span> <span class="n">progress</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="s1">&#39;1d&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">w</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df</span><span class="p">,</span><span class="n">sentiment</span><span class="p">,</span><span class="n">left_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;close-1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;change&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;close&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="c1">#df[&#39;change_pred&#39;] = (df[&quot;close&quot;] - df[&#39;close&#39;].shift(-1, fill_value=df[&#39;change&#39;].iloc[1]))*-1</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s2">&quot;open&quot;</span><span class="p">,</span><span class="s2">&quot;polarity_x&quot;</span><span class="p">,</span><span class="s2">&quot;polarity_y&quot;</span><span class="p">,</span><span class="s2">&quot;polarity&quot;</span><span class="p">,</span><span class="s2">&quot;adj close&quot;</span><span class="p">,</span><span class="s2">&quot;close&quot;</span><span class="p">,</span><span class="s2">&quot;high&quot;</span><span class="p">,</span><span class="s2">&quot;low&quot;</span><span class="p">],</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Since we want to predict the closing stock price for the following day, we just shift the closing price one day to get our y value.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Since we are working with sequential data, we dont use train_test_split. Insted we pick the first 80% of obersavations as training set, and the remaning as testing set.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="n">train</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="o">-</span><span class="n">test_size</span><span class="p">,:]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> 
<span class="n">test</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="n">test_size</span><span class="p">:,:]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We split the dataset into x values and y values. We also specify .values, since the date is not relevant for the training and dosn't work with some of the later preprocessing</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X_train</span> <span class="o">=</span> <span class="n">train</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">y_train</span> <span class="o">=</span> <span class="n">train</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="n">X_test</span> <span class="o">=</span> <span class="n">test</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">y_test</span> <span class="o">=</span> <span class="n">test</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We scale all our values to be between -1 and 1. This should help the accuracy of the model.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">x_scaler</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">(</span><span class="n">feature_range</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">y_scaler</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">(</span><span class="n">feature_range</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X_train</span> <span class="o">=</span> <span class="n">x_scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">y_train</span> <span class="o">=</span> <span class="n">y_scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y_train</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>


<span class="n">X_test</span> <span class="o">=</span> <span class="n">x_scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">y_test</span> <span class="o">=</span> <span class="n">y_scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y_test</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X_train</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="p">(</span><span class="n">X_train</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">X_test</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">X_test</span><span class="p">,</span> <span class="p">(</span><span class="n">X_test</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we start making our RNN model.</p>
<p>n_input = how many days we look in the past to predict the next sample. We chose 20 mostly by trial and error.</p>
<p>We set epochs to 100. It's our experience that the more you train the model, the more it will try to predict the daily volatility. If we only trained it for eg. 10 epochs, the model would make a soft curve which didn't look like a real stock development. By trail and error we found 100 to be the best training amount.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">n_input</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">n_features</span><span class="o">=</span> <span class="n">X_train</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="c1"># how many predictors/Xs/features we have to predict y</span>
<span class="n">b_size</span> <span class="o">=</span> <span class="mi">10</span> <span class="c1"># Number of timeseries samples in each batch</span>
<span class="n">epochs</span> <span class="o">=</span> <span class="mi">200</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Since we are working with sequential stock data we chose an LSTM model, which is a RNN model.
Activation function is set to relu, and optimizer is adam, since these are the standard for this kind of task.
We chose 2 layers with 50 units each, and once again done by trial and error.</p>
<p>Since we want to predict the actual stock price we use mse(mean squared error) as our loss fuction.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">Sequential</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">LSTM</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s1">&#39;relu&#39;</span><span class="p">,</span><span class="n">return_sequences</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">input_shape</span><span class="o">=</span><span class="p">(</span><span class="n">n_input</span><span class="p">,</span> <span class="n">n_features</span><span class="p">)))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Dropout</span><span class="p">(</span><span class="mf">0.2</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">LSTM</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s1">&#39;relu&#39;</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Dense</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">optimizer</span><span class="o">=</span><span class="s1">&#39;adam&#39;</span><span class="p">,</span> <span class="n">loss</span><span class="o">=</span><span class="s1">&#39;MSE&#39;</span><span class="p">,</span><span class="n">metrics</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;MSE&#39;</span><span class="p">])</span>
<span class="n">model</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Model: &#34;sequential_32&#34;
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
lstm_64 (LSTM)               (None, 10, 50)            11200     
_________________________________________________________________
dropout_32 (Dropout)         (None, 10, 50)            0         
_________________________________________________________________
lstm_65 (LSTM)               (None, 50)                20200     
_________________________________________________________________
dense_32 (Dense)             (None, 1)                 51        
=================================================================
Total params: 31,451
Trainable params: 31,451
Non-trainable params: 0
_________________________________________________________________
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span><span class="n">y_train</span><span class="p">,</span><span class="n">epochs</span><span class="o">=</span><span class="n">epochs</span><span class="p">,</span><span class="n">verbose</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This looks like overfitting, but it works the best in our case.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">loss_per_epoch</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">history</span><span class="o">.</span><span class="n">history</span><span class="p">[</span><span class="s1">&#39;loss&#39;</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">loss_per_epoch</span><span class="p">)),</span><span class="n">loss_per_epoch</span><span class="p">);</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
" />
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Then we do some data processing to get it back to the orginal format, so we can compare the real data to the predictions.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y_pred_scaled</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">y_scaler</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_pred_scaled</span><span class="p">)</span>
<span class="n">y_test</span> <span class="o">=</span> <span class="n">y_scaler</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_test</span><span class="p">)</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;y_true&#39;</span><span class="p">:</span><span class="n">y_test</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span><span class="s1">&#39;y_pred&#39;</span><span class="p">:</span><span class="n">y_pred</span><span class="o">.</span><span class="n">flatten</span><span class="p">()})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>WARNING:tensorflow:Model was constructed with shape (None, 10, 5) for input KerasTensor(type_spec=TensorSpec(shape=(None, 10, 5), dtype=tf.float32, name=&#39;lstm_64_input&#39;), name=&#39;lstm_64_input&#39;, description=&#34;created by layer &#39;lstm_64_input&#39;&#34;), but it was called on an input with incompatible shape (None, 1, 5).
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>WARNING:tensorflow:Model was constructed with shape (None, 10, 5) for input KerasTensor(type_spec=TensorSpec(shape=(None, 10, 5), dtype=tf.float32, name=&#39;lstm_64_input&#39;), name=&#39;lstm_64_input&#39;, description=&#34;created by layer &#39;lstm_64_input&#39;&#34;), but it was called on an input with incompatible shape (None, 1, 5).
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>       y_true    y_pred
0   -0.550285  0.019089
1    0.123341  0.021375
2   -0.265656 -0.027585
3    0.569260  0.022268
4    0.056927  0.022450
..        ...       ...
120 -1.910000 -3.817506
121 -0.500000 -1.621510
122 -0.869999 -0.010628
123  0.189999 -1.283345
124 -0.349998 -2.782472

[125 rows x 2 columns]
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">results</span><span class="p">[</span><span class="s2">&quot;y_pred&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s2">&quot;y_pred&quot;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;float32&quot;</span><span class="p">)</span>
<span class="n">results</span><span class="p">[</span><span class="s2">&quot;y_true&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s2">&quot;y_true&quot;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;float32&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">backtesting</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(),</span><span class="n">results</span><span class="p">,</span><span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">left_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">backtesting</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>volume</th>
      <th>positive</th>
      <th>neutral</th>
      <th>negative</th>
      <th>close-1</th>
      <th>change</th>
      <th>y_true</th>
      <th>y_pred</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2020-06-24</td>
      <td>29238800</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>31.091082</td>
      <td>-0.550285</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2020-06-25</td>
      <td>26013900</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>30.540796</td>
      <td>0.123341</td>
      <td>1.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2020-06-26</td>
      <td>39994300</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>30.664137</td>
      <td>-0.265656</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2020-06-29</td>
      <td>22728900</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>30.398481</td>
      <td>0.569260</td>
      <td>1.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2020-06-30</td>
      <td>24147700</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>30.967741</td>
      <td>0.056927</td>
      <td>1.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>120</th>
      <td>2020-12-14</td>
      <td>94809700</td>
      <td>8</td>
      <td>6</td>
      <td>0</td>
      <td>41.119999</td>
      <td>-1.910000</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>121</th>
      <td>2020-12-15</td>
      <td>66003300</td>
      <td>5</td>
      <td>16</td>
      <td>4</td>
      <td>39.209999</td>
      <td>-0.500000</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>122</th>
      <td>2020-12-16</td>
      <td>56515300</td>
      <td>1</td>
      <td>3</td>
      <td>0</td>
      <td>38.709999</td>
      <td>-0.869999</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>123</th>
      <td>2020-12-17</td>
      <td>52036400</td>
      <td>6</td>
      <td>6</td>
      <td>1</td>
      <td>37.840000</td>
      <td>0.189999</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>124</th>
      <td>2020-12-18</td>
      <td>60259200</td>
      <td>4</td>
      <td>5</td>
      <td>2</td>
      <td>38.029999</td>
      <td>-0.349998</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>125 rows × 9 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">buy</span> <span class="o">=</span> <span class="n">backtesting</span><span class="p">[</span><span class="n">backtesting</span><span class="p">[</span><span class="s2">&quot;y_pred&quot;</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">]</span>
<span class="n">sell</span> <span class="o">=</span> <span class="n">backtesting</span><span class="p">[</span><span class="n">backtesting</span><span class="p">[</span><span class="s2">&quot;y_pred&quot;</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gain</span> <span class="o">=</span> <span class="n">buy</span><span class="o">.</span><span class="n">change</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">loss</span> <span class="o">=</span> <span class="n">sell</span><span class="o">.</span><span class="n">change</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">profit</span> <span class="o">=</span> <span class="n">gain</span> <span class="o">-</span> <span class="n">loss</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">profit</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>7.696783065795898</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">backtesting</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;change&quot;</span><span class="p">],</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,:])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>volume</th>
      <th>positive</th>
      <th>neutral</th>
      <th>negative</th>
      <th>close-1</th>
      <th>change</th>
      <th>y_true</th>
      <th>y_pred</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>96</th>
      <td>2020-11-09</td>
      <td>230153900</td>
      <td>10</td>
      <td>6</td>
      <td>0</td>
      <td>34.535103</td>
      <td>2.656548</td>
      <td>1.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>19</th>
      <td>2020-07-22</td>
      <td>90705600</td>
      <td>7</td>
      <td>1</td>
      <td>0</td>
      <td>34.810246</td>
      <td>1.774193</td>
      <td>1.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>23</th>
      <td>2020-07-28</td>
      <td>56394000</td>
      <td>1</td>
      <td>7</td>
      <td>1</td>
      <td>35.616699</td>
      <td>1.404175</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>112</th>
      <td>2020-12-02</td>
      <td>84347500</td>
      <td>9</td>
      <td>3</td>
      <td>0</td>
      <td>39.410000</td>
      <td>1.389999</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>80</th>
      <td>2020-10-16</td>
      <td>42993500</td>
      <td>2</td>
      <td>2</td>
      <td>1</td>
      <td>34.677418</td>
      <td>1.328274</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>116</th>
      <td>2020-12-08</td>
      <td>87039300</td>
      <td>7</td>
      <td>10</td>
      <td>2</td>
      <td>41.250000</td>
      <td>1.310001</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>12</th>
      <td>2020-07-13</td>
      <td>56569100</td>
      <td>1</td>
      <td>5</td>
      <td>0</td>
      <td>32.096775</td>
      <td>1.309296</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>111</th>
      <td>2020-12-01</td>
      <td>72660800</td>
      <td>1</td>
      <td>4</td>
      <td>1</td>
      <td>38.310001</td>
      <td>1.099998</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>93</th>
      <td>2020-11-04</td>
      <td>40870500</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>34.335865</td>
      <td>1.081593</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>110</th>
      <td>2020-11-30</td>
      <td>65425900</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>37.230000</td>
      <td>1.080002</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">backtesting</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;change&quot;</span><span class="p">],</span><span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,:])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>volume</th>
      <th>positive</th>
      <th>neutral</th>
      <th>negative</th>
      <th>close-1</th>
      <th>change</th>
      <th>y_true</th>
      <th>y_pred</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>120</th>
      <td>2020-12-14</td>
      <td>94809700</td>
      <td>8</td>
      <td>6</td>
      <td>0</td>
      <td>41.119999</td>
      <td>-1.910000</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>88</th>
      <td>2020-10-28</td>
      <td>33857500</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>35.512333</td>
      <td>-1.878555</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>101</th>
      <td>2020-11-16</td>
      <td>71660500</td>
      <td>6</td>
      <td>2</td>
      <td>0</td>
      <td>36.641365</td>
      <td>-1.223907</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>99</th>
      <td>2020-11-12</td>
      <td>46767900</td>
      <td>4</td>
      <td>4</td>
      <td>1</td>
      <td>36.527515</td>
      <td>-0.901329</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>94</th>
      <td>2020-11-05</td>
      <td>33927000</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>35.417458</td>
      <td>-0.891842</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>122</th>
      <td>2020-12-16</td>
      <td>56515300</td>
      <td>1</td>
      <td>3</td>
      <td>0</td>
      <td>38.709999</td>
      <td>-0.869999</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>48</th>
      <td>2020-09-01</td>
      <td>36161500</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>35.853889</td>
      <td>-0.863377</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>50</th>
      <td>2020-09-03</td>
      <td>35956800</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>35.294117</td>
      <td>-0.759014</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>21</th>
      <td>2020-07-24</td>
      <td>33870500</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>36.442123</td>
      <td>-0.711575</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>117</th>
      <td>2020-12-09</td>
      <td>86118500</td>
      <td>14</td>
      <td>3</td>
      <td>0</td>
      <td>42.560001</td>
      <td>-0.710003</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">y_true</span><span class="p">,</span><span class="n">results</span><span class="o">.</span><span class="n">y_pred</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">positive</span><span class="o">/</span><span class="n">df</span><span class="o">.</span><span class="n">negative</span><span class="o">&gt;</span><span class="mi">5</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test</span><span class="o">.</span><span class="n">change</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0.0581401873238479</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test2</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">negative</span><span class="o">/</span><span class="n">df</span><span class="o">.</span><span class="n">positive</span><span class="o">&gt;</span><span class="mi">5</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test2</span><span class="o">.</span><span class="n">change</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0.018975377082824707</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;positive&quot;</span><span class="p">,</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>volume</th>
      <th>positive</th>
      <th>neutral</th>
      <th>negative</th>
      <th>close-1</th>
      <th>change</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2020-11-10</th>
      <td>80091700</td>
      <td>20</td>
      <td>15</td>
      <td>1</td>
      <td>37.191650</td>
      <td>-0.493359</td>
    </tr>
    <tr>
      <th>2020-12-09</th>
      <td>86118500</td>
      <td>14</td>
      <td>3</td>
      <td>0</td>
      <td>42.560001</td>
      <td>-0.710003</td>
    </tr>
    <tr>
      <th>2020-12-11</th>
      <td>60737000</td>
      <td>11</td>
      <td>8</td>
      <td>1</td>
      <td>41.730000</td>
      <td>-0.610001</td>
    </tr>
    <tr>
      <th>2020-11-09</th>
      <td>230153900</td>
      <td>10</td>
      <td>6</td>
      <td>0</td>
      <td>34.535103</td>
      <td>2.656548</td>
    </tr>
    <tr>
      <th>2020-12-10</th>
      <td>57749200</td>
      <td>10</td>
      <td>8</td>
      <td>1</td>
      <td>41.849998</td>
      <td>-0.119999</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2017-09-06</th>
      <td>13925800</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>32.068310</td>
      <td>0.180267</td>
    </tr>
    <tr>
      <th>2017-09-05</th>
      <td>15068600</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>32.220116</td>
      <td>-0.151806</td>
    </tr>
    <tr>
      <th>2017-09-01</th>
      <td>19160800</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>32.182163</td>
      <td>0.037952</td>
    </tr>
    <tr>
      <th>2017-08-31</th>
      <td>27300500</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>31.736242</td>
      <td>0.445921</td>
    </tr>
    <tr>
      <th>2018-06-26</th>
      <td>25435000</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>34.516129</td>
      <td>0.000000</td>
    </tr>
  </tbody>
</table>
<p>1260 rows × 6 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s2">&quot;negative&quot;</span><span class="p">,</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>volume</th>
      <th>positive</th>
      <th>neutral</th>
      <th>negative</th>
      <th>close-1</th>
      <th>change</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2020-12-15</th>
      <td>66003300</td>
      <td>5</td>
      <td>16</td>
      <td>4</td>
      <td>39.209999</td>
      <td>-0.500000</td>
    </tr>
    <tr>
      <th>2020-12-04</th>
      <td>35368100</td>
      <td>6</td>
      <td>4</td>
      <td>4</td>
      <td>40.090000</td>
      <td>0.250000</td>
    </tr>
    <tr>
      <th>2020-11-11</th>
      <td>58981000</td>
      <td>4</td>
      <td>4</td>
      <td>3</td>
      <td>36.698292</td>
      <td>-0.170776</td>
    </tr>
    <tr>
      <th>2020-08-25</th>
      <td>26221200</td>
      <td>1</td>
      <td>0</td>
      <td>3</td>
      <td>36.850094</td>
      <td>-0.407970</td>
    </tr>
    <tr>
      <th>2018-10-30</th>
      <td>35424200</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>41.015179</td>
      <td>-0.322578</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2017-08-25</th>
      <td>15171200</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>31.527514</td>
      <td>0.151804</td>
    </tr>
    <tr>
      <th>2017-08-24</th>
      <td>12140400</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>31.537003</td>
      <td>-0.009489</td>
    </tr>
    <tr>
      <th>2017-08-23</th>
      <td>16990000</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>31.451612</td>
      <td>0.085390</td>
    </tr>
    <tr>
      <th>2017-08-22</th>
      <td>14178600</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>31.081594</td>
      <td>0.370018</td>
    </tr>
    <tr>
      <th>2018-06-26</th>
      <td>25435000</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>34.516129</td>
      <td>0.000000</td>
    </tr>
  </tbody>
</table>
<p>1260 rows × 6 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span><span class="p">),</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;BarContainer object of 3 artists&gt;</pre>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
" />
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&#39;positive&#39;, &#39;neutral&#39;, &#39;negative&#39;]</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[&lt;matplotlib.lines.Line2D at 0x7f12a6da3c88&gt;]</pre>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
" />
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>positive    288
neutral     405
negative     65
dtype: int64</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pfe</span> <span class="o">=</span> <span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Disney">Disney<a class="anchor-link" href="#Disney"> </a></h1>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">stock</span> <span class="o">=</span> <span class="s2">&quot;Disney&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#Configuration</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">twint</span><span class="o">.</span><span class="n">Config</span><span class="p">()</span>

<span class="n">c</span><span class="o">.</span><span class="n">Username</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;CNBC&quot;</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">Search</span> <span class="o">=</span> <span class="n">stock</span>
<span class="n">c</span><span class="o">.</span><span class="n">Since</span> <span class="o">=</span> <span class="s2">&quot;2015-1-1&quot;</span>
<span class="n">c</span><span class="o">.</span><span class="n">Count</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">c</span><span class="o">.</span><span class="n">Filter_retweets</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">c</span><span class="o">.</span><span class="n">Pandas</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">twint</span><span class="o">.</span><span class="n">run</span><span class="o">.</span><span class="n">Search</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">twint</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">panda</span><span class="o">.</span><span class="n">Tweets_df</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_cnbc</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span><span class="s1">&#39;date&#39;</span><span class="p">,</span><span class="s1">&#39;tweet&#39;</span><span class="p">,</span><span class="s1">&#39;hashtags&#39;</span><span class="p">,</span><span class="s1">&#39;username&#39;</span><span class="p">,</span><span class="s1">&#39;search&#39;</span><span class="p">]]</span>
<span class="n">df_cnbc</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>date</th>
      <th>tweet</th>
      <th>hashtags</th>
      <th>username</th>
      <th>search</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1341097244737613824</td>
      <td>2020-12-21 19:04:34</td>
      <td>Disney shuffles execs: Taps Bergman as sole co...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Disney</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1341089452215726082</td>
      <td>2020-12-21 18:33:36</td>
      <td>Disney shuffles execs: Taps Bergman as sole co...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Disney</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1341029704971804678</td>
      <td>2020-12-21 14:36:11</td>
      <td>'The Book of Boba Fett' is its own series, wil...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Disney</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1340342407079051266</td>
      <td>2020-12-19 17:05:06</td>
      <td>'The Mandalorian' launched Disney+, now it has...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Disney</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1338473326558187520</td>
      <td>2020-12-14 13:18:03</td>
      <td>Here are Monday's biggest analyst calls of the...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Disney</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_cnbc</span><span class="o">.</span><span class="n">tweet</span> <span class="o">=</span> <span class="n">df_cnbc</span><span class="o">.</span><span class="n">tweet</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">sneaky_cleanup</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/usr/local/lib/python3.6/dist-packages/pandas/core/generic.py:5170: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  self[name] = value
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">polarity</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
  <span class="k">return</span> <span class="n">TextBlob</span><span class="p">(</span><span class="n">text</span><span class="p">)</span><span class="o">.</span><span class="n">sentiment</span><span class="o">.</span><span class="n">polarity</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_cnbc</span><span class="p">[</span><span class="s2">&quot;polarity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_cnbc</span><span class="p">[</span><span class="s2">&quot;tweet&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">polarity</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/usr/local/lib/python3.6/dist-packages/ipykernel_launcher.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  &#34;&#34;&#34;Entry point for launching an IPython kernel.
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_cnbc</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>date</th>
      <th>tweet</th>
      <th>hashtags</th>
      <th>username</th>
      <th>search</th>
      <th>polarity</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1341097244737613824</td>
      <td>2020-12-21 19:04:34</td>
      <td>Disney shuffle Taps Bergman sole content Horn ...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Disney</td>
      <td>0.250000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1341089452215726082</td>
      <td>2020-12-21 18:33:36</td>
      <td>Disney shuffle Taps Bergman sole content Horn ...</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Disney</td>
      <td>0.250000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1341029704971804678</td>
      <td>2020-12-21 14:36:11</td>
      <td>Book Boba arrive December 2021</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Disney</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1340342407079051266</td>
      <td>2020-12-19 17:05:06</td>
      <td>launched goodwill usher new era Star Wars</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Disney</td>
      <td>0.136364</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1338473326558187520</td>
      <td>2020-12-14 13:18:03</td>
      <td>Here biggest analyst call Clorox</td>
      <td>[]</td>
      <td>CNBC</td>
      <td>Disney</td>
      <td>0.000000</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#Configuration</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">twint</span><span class="o">.</span><span class="n">Config</span><span class="p">()</span>

<span class="n">c</span><span class="o">.</span><span class="n">Username</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;business&quot;</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">Search</span> <span class="o">=</span> <span class="n">stock</span>
<span class="n">c</span><span class="o">.</span><span class="n">Since</span> <span class="o">=</span> <span class="s2">&quot;2015-1-1&quot;</span>
<span class="n">c</span><span class="o">.</span><span class="n">Count</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">c</span><span class="o">.</span><span class="n">Filter_retweets</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">c</span><span class="o">.</span><span class="n">Pandas</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">twint</span><span class="o">.</span><span class="n">run</span><span class="o">.</span><span class="n">Search</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">twint</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">panda</span><span class="o">.</span><span class="n">Tweets_df</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_bloom</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span><span class="s1">&#39;date&#39;</span><span class="p">,</span><span class="s1">&#39;tweet&#39;</span><span class="p">,</span><span class="s1">&#39;hashtags&#39;</span><span class="p">,</span><span class="s1">&#39;username&#39;</span><span class="p">,</span><span class="s1">&#39;search&#39;</span><span class="p">]]</span>
<span class="n">df_bloom</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>date</th>
      <th>tweet</th>
      <th>hashtags</th>
      <th>username</th>
      <th>search</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1345467910714781700</td>
      <td>2021-01-02 20:32:02</td>
      <td>Disney spent millions to save a rainforest in ...</td>
      <td>[]</td>
      <td>business</td>
      <td>Disney</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1344860960037724160</td>
      <td>2021-01-01 04:20:13</td>
      <td>‘Queen’s Gambit’ Is Netflix’s Biggest Hit. Wou...</td>
      <td>[]</td>
      <td>business</td>
      <td>Disney</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1344391595165184007</td>
      <td>2020-12-30 21:15:08</td>
      <td>Santos Laguna, a soccer club in northern Mexic...</td>
      <td>[]</td>
      <td>business</td>
      <td>Disney</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1343963997910007811</td>
      <td>2020-12-29 16:56:01</td>
      <td>Netflix? HBO Max? Hulu? Disney+? There are lot...</td>
      <td>[]</td>
      <td>business</td>
      <td>Disney</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1343739550183682049</td>
      <td>2020-12-29 02:04:08</td>
      <td>HBO Max and Disney+ saw jumps in app downloads...</td>
      <td>[]</td>
      <td>business</td>
      <td>Disney</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1134</th>
      <td>574585618610700288</td>
      <td>2015-03-08 15:01:01</td>
      <td>Hollywood makes lots of films for kids, but th...</td>
      <td>[]</td>
      <td>business</td>
      <td>Disney</td>
    </tr>
    <tr>
      <th>1135</th>
      <td>563880048181399553</td>
      <td>2015-02-07 02:00:54</td>
      <td>Nobody wants Disney's CEO to leave  http://t.c...</td>
      <td>[]</td>
      <td>business</td>
      <td>Disney</td>
    </tr>
    <tr>
      <th>1136</th>
      <td>563132578493112320</td>
      <td>2015-02-05 00:30:43</td>
      <td>For an instant, it looked like there was a mas...</td>
      <td>[]</td>
      <td>business</td>
      <td>Disney</td>
    </tr>
    <tr>
      <th>1137</th>
      <td>560958225135448065</td>
      <td>2015-01-30 00:30:37</td>
      <td>Disney unveils its first Latina Princess  http...</td>
      <td>[]</td>
      <td>business</td>
      <td>Disney</td>
    </tr>
    <tr>
      <th>1138</th>
      <td>555869549174599681</td>
      <td>2015-01-15 23:30:02</td>
      <td>Most measles patients in Disney cases unvaccin...</td>
      <td>[]</td>
      <td>business</td>
      <td>Disney</td>
    </tr>
  </tbody>
</table>
<p>1139 rows × 6 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_bloom</span><span class="o">.</span><span class="n">tweet</span> <span class="o">=</span> <span class="n">df_bloom</span><span class="o">.</span><span class="n">tweet</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">sneaky_cleanup</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/usr/local/lib/python3.6/dist-packages/pandas/core/generic.py:5170: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  self[name] = value
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_bloom</span><span class="p">[</span><span class="s2">&quot;polarity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_bloom</span><span class="p">[</span><span class="s2">&quot;tweet&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">polarity</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/usr/local/lib/python3.6/dist-packages/ipykernel_launcher.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  &#34;&#34;&#34;Entry point for launching an IPython kernel.
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1">#Configuration</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">twint</span><span class="o">.</span><span class="n">Config</span><span class="p">()</span>

<span class="n">c</span><span class="o">.</span><span class="n">Username</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;WSJ&quot;</span><span class="p">)</span>
<span class="n">c</span><span class="o">.</span><span class="n">Search</span> <span class="o">=</span> <span class="n">stock</span>
<span class="n">c</span><span class="o">.</span><span class="n">Since</span> <span class="o">=</span> <span class="s2">&quot;2015-1-1&quot;</span>
<span class="n">c</span><span class="o">.</span><span class="n">Count</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">c</span><span class="o">.</span><span class="n">Filter_retweets</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">c</span><span class="o">.</span><span class="n">Pandas</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">twint</span><span class="o">.</span><span class="n">run</span><span class="o">.</span><span class="n">Search</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">twint</span><span class="o">.</span><span class="n">storage</span><span class="o">.</span><span class="n">panda</span><span class="o">.</span><span class="n">Tweets_df</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_wsj</span> <span class="o">=</span> <span class="n">df</span><span class="p">[[</span><span class="s1">&#39;id&#39;</span><span class="p">,</span><span class="s1">&#39;date&#39;</span><span class="p">,</span><span class="s1">&#39;tweet&#39;</span><span class="p">,</span><span class="s1">&#39;hashtags&#39;</span><span class="p">,</span><span class="s1">&#39;username&#39;</span><span class="p">,</span><span class="s1">&#39;search&#39;</span><span class="p">]]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_wsj</span><span class="o">.</span><span class="n">tweet</span> <span class="o">=</span> <span class="n">df_wsj</span><span class="o">.</span><span class="n">tweet</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">sneaky_cleanup</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/usr/local/lib/python3.6/dist-packages/pandas/core/generic.py:5170: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  self[name] = value
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df_wsj</span><span class="p">[</span><span class="s2">&quot;polarity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df_wsj</span><span class="p">[</span><span class="s2">&quot;tweet&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">polarity</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>/usr/local/lib/python3.6/dist-packages/ipykernel_launcher.py:1: SettingWithCopyWarning: 
A value is trying to be set on a copy of a slice from a DataFrame.
Try using .loc[row_indexer,col_indexer] = value instead

See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy
  &#34;&#34;&#34;Entry point for launching an IPython kernel.
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">frames</span><span class="o">=</span><span class="p">[</span><span class="n">df_cnbc</span><span class="p">,</span><span class="n">df_bloom</span><span class="p">,</span><span class="n">df_wsj</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">merged</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">frames</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">merged</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">merged</span><span class="o">.</span><span class="n">date</span><span class="p">)</span>
<span class="n">merged</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">merged</span><span class="p">[</span><span class="s2">&quot;date&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">datetime</span><span class="o">.</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">positive</span> <span class="o">=</span> <span class="n">merged</span><span class="p">[</span><span class="n">merged</span><span class="p">[</span><span class="s2">&quot;polarity&quot;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span>
<span class="n">neutral</span> <span class="o">=</span> <span class="n">merged</span><span class="p">[</span><span class="n">merged</span><span class="p">[</span><span class="s2">&quot;polarity&quot;</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">]</span>
<span class="n">negative</span> <span class="o">=</span> <span class="n">merged</span><span class="p">[</span><span class="n">merged</span><span class="p">[</span><span class="s2">&quot;polarity&quot;</span><span class="p">]</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">positive</span> <span class="o">=</span> <span class="n">positive</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">)[</span><span class="s1">&#39;polarity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">neutral</span> <span class="o">=</span> <span class="n">neutral</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">)[</span><span class="s1">&#39;polarity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
<span class="n">negative</span> <span class="o">=</span> <span class="n">negative</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">resample</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">)[</span><span class="s1">&#39;polarity&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">positive</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">positive</span><span class="p">)</span>
<span class="n">neutral</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">neutral</span><span class="p">)</span>
<span class="n">negative</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">negative</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">positive</span><span class="p">[</span><span class="s2">&quot;positive&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">positive</span><span class="o">.</span><span class="n">polarity</span>
<span class="n">neutral</span><span class="p">[</span><span class="s2">&quot;neutral&quot;</span><span class="p">]</span><span class="o">=</span><span class="n">neutral</span><span class="o">.</span><span class="n">polarity</span>
<span class="n">negative</span><span class="p">[</span><span class="s2">&quot;negative&quot;</span><span class="p">]</span><span class="o">=</span><span class="n">negative</span><span class="o">.</span><span class="n">polarity</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df2</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">positive</span><span class="p">,</span><span class="n">neutral</span><span class="p">,</span><span class="n">left_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sentiment</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df2</span><span class="p">,</span><span class="n">negative</span><span class="p">,</span><span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">left_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">yf</span><span class="o">.</span><span class="n">download</span><span class="p">(</span><span class="s2">&quot;DIS&quot;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="n">start_date</span><span class="p">,</span> <span class="n">end</span><span class="o">=</span><span class="n">end_date</span><span class="p">,</span> <span class="n">progress</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">interval</span><span class="o">=</span><span class="s1">&#39;1d&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="n">w</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">df</span><span class="p">,</span><span class="n">sentiment</span><span class="p">,</span><span class="n">left_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;close-1&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;change&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s2">&quot;close&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">shift</span><span class="p">(</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;close&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="c1">#df[&quot;day_change&quot;]=(df[&quot;open&quot;] - df[&#39;close&#39;])*-1</span>
<span class="c1">#df[&#39;change_pred&#39;] = (df[&quot;close&quot;] - df[&#39;close&#39;].shift(-1, fill_value=df[&#39;change&#39;].iloc[1]))*-1</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s2">&quot;open&quot;</span><span class="p">,</span><span class="s2">&quot;polarity_x&quot;</span><span class="p">,</span><span class="s2">&quot;polarity_y&quot;</span><span class="p">,</span><span class="s2">&quot;polarity&quot;</span><span class="p">,</span><span class="s2">&quot;adj close&quot;</span><span class="p">,</span><span class="s2">&quot;close&quot;</span><span class="p">,</span><span class="s2">&quot;high&quot;</span><span class="p">,</span><span class="s2">&quot;low&quot;</span><span class="p">],</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="c1">#df= df.drop([&quot;adj close&quot;,&quot;close&quot;,&quot;high&quot;,&quot;low&quot;],axis=1)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>volume</th>
      <th>positive</th>
      <th>neutral</th>
      <th>negative</th>
      <th>close-1</th>
      <th>change</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2015-12-23</th>
      <td>12372900</td>
      <td>0</td>
      <td>2</td>
      <td>2</td>
      <td>105.559998</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>2015-12-24</th>
      <td>4356100</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>105.559998</td>
      <td>0.300003</td>
    </tr>
    <tr>
      <th>2015-12-28</th>
      <td>9092700</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>105.860001</td>
      <td>1.389999</td>
    </tr>
    <tr>
      <th>2015-12-29</th>
      <td>8607200</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>107.250000</td>
      <td>-0.169998</td>
    </tr>
    <tr>
      <th>2015-12-30</th>
      <td>4917000</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>107.080002</td>
      <td>-0.740005</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>2020-12-14</th>
      <td>30939400</td>
      <td>3</td>
      <td>2</td>
      <td>1</td>
      <td>175.720001</td>
      <td>-6.419998</td>
    </tr>
    <tr>
      <th>2020-12-15</th>
      <td>18817200</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>169.300003</td>
      <td>4.639999</td>
    </tr>
    <tr>
      <th>2020-12-16</th>
      <td>11105800</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>173.940002</td>
      <td>-0.820007</td>
    </tr>
    <tr>
      <th>2020-12-17</th>
      <td>9004600</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>173.119995</td>
      <td>0.430008</td>
    </tr>
    <tr>
      <th>2020-12-18</th>
      <td>21172100</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>173.550003</td>
      <td>-0.660004</td>
    </tr>
  </tbody>
</table>
<p>1257 rows × 6 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span> 
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Since we want to predict the closing stock price for the following day, we just shift the closing price one day to get our y value.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Since we are working with sequential data, we dont use train_test_split. Insted we pick the first 80% of obersavations as training set, and the remaning as testing set.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test_size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.1</span><span class="p">)</span>
<span class="n">train</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="o">-</span><span class="n">test_size</span><span class="p">,:]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span> 
<span class="n">test</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="n">test_size</span><span class="p">:,:]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We split the dataset into x values and y values. We also specify .values, since the date is not relevant for the training and dosn't work with some of the later preprocessing</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X_train</span> <span class="o">=</span> <span class="n">train</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">y_train</span> <span class="o">=</span> <span class="n">train</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>

<span class="n">X_test</span> <span class="o">=</span> <span class="n">test</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
<span class="n">y_test</span> <span class="o">=</span> <span class="n">test</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">values</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">sklearn.preprocessing</span> <span class="kn">import</span> <span class="n">MinMaxScaler</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>We scale all our values to be between -1 and 1. This should help the accuracy of the model.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">x_scaler</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">(</span><span class="n">feature_range</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">y_scaler</span> <span class="o">=</span> <span class="n">MinMaxScaler</span><span class="p">(</span><span class="n">feature_range</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X_train</span> <span class="o">=</span> <span class="n">x_scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>
<span class="n">y_train</span> <span class="o">=</span> <span class="n">y_scaler</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">y_train</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>


<span class="n">X_test</span> <span class="o">=</span> <span class="n">x_scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">y_test</span> <span class="o">=</span> <span class="n">y_scaler</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">y_test</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">X_train</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span> <span class="p">(</span><span class="n">X_train</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">X_test</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">X_test</span><span class="p">,</span> <span class="p">(</span><span class="n">X_test</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">keras.preprocessing.sequence</span> <span class="kn">import</span> <span class="n">TimeseriesGenerator</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we start making our RNN model.</p>
<p>n_input = how many days we look in the past to predict the next sample. We chose 20 mostly by trial and error.</p>
<p>We set epochs to 100. It's our experience that the more you train the model, the more it will try to predict the daily volatility. If we only trained it for eg. 10 epochs, the model would make a soft curve which didn't look like a real stock development. By trail and error we found 100 to be the best training amount.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">n_input</span> <span class="o">=</span> <span class="mi">10</span>
<span class="n">n_features</span><span class="o">=</span> <span class="n">X_train</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="c1"># how many predictors/Xs/features we have to predict y</span>
<span class="n">b_size</span> <span class="o">=</span> <span class="mi">10</span> <span class="c1"># Number of timeseries samples in each batch</span>
<span class="n">epochs</span> <span class="o">=</span> <span class="mi">200</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">keras</span>
<span class="kn">from</span> <span class="nn">keras.models</span> <span class="kn">import</span> <span class="n">Sequential</span>
<span class="kn">from</span> <span class="nn">keras.layers</span> <span class="kn">import</span> <span class="n">Dense</span>
<span class="kn">from</span> <span class="nn">keras.layers</span> <span class="kn">import</span> <span class="n">LSTM</span>
<span class="kn">from</span> <span class="nn">keras.layers</span> <span class="kn">import</span> <span class="n">Dropout</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Since we are working with sequential stock data we chose an LSTM model, which is a RNN model.
Activation function is set to relu, and optimizer is adam, since these are the standard for this kind of task.
We chose 2 layers with 50 units each, and once again done by trial and error.</p>
<p>Since we want to predict the actual stock price we use mse(mean squared error) as our loss fuction.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">Sequential</span><span class="p">()</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">LSTM</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s1">&#39;relu&#39;</span><span class="p">,</span><span class="n">return_sequences</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">input_shape</span><span class="o">=</span><span class="p">(</span><span class="n">n_input</span><span class="p">,</span> <span class="n">n_features</span><span class="p">)))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Dropout</span><span class="p">(</span><span class="mf">0.2</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">LSTM</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="n">activation</span><span class="o">=</span><span class="s1">&#39;relu&#39;</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">Dense</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="n">optimizer</span><span class="o">=</span><span class="s1">&#39;adam&#39;</span><span class="p">,</span> <span class="n">loss</span><span class="o">=</span><span class="s1">&#39;MSE&#39;</span><span class="p">,</span><span class="n">metrics</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;MSE&#39;</span><span class="p">])</span>
<span class="n">model</span><span class="o">.</span><span class="n">summary</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Model: &#34;sequential_42&#34;
_________________________________________________________________
Layer (type)                 Output Shape              Param #   
=================================================================
lstm_84 (LSTM)               (None, 10, 50)            11200     
_________________________________________________________________
dropout_42 (Dropout)         (None, 10, 50)            0         
_________________________________________________________________
lstm_85 (LSTM)               (None, 50)                20200     
_________________________________________________________________
dense_42 (Dense)             (None, 1)                 51        
=================================================================
Total params: 31,451
Trainable params: 31,451
Non-trainable params: 0
_________________________________________________________________
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">,</span><span class="n">y_train</span><span class="p">,</span><span class="n">epochs</span><span class="o">=</span><span class="n">epochs</span><span class="p">,</span><span class="n">verbose</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>This looks like overfitting, but it works the best in our case.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">loss_per_epoch</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">history</span><span class="o">.</span><span class="n">history</span><span class="p">[</span><span class="s1">&#39;loss&#39;</span><span class="p">]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">loss_per_epoch</span><span class="p">)),</span><span class="n">loss_per_epoch</span><span class="p">);</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
" />
</div>

</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Then we do some data processing to get it back to the orginal format, so we can compare the real data to the predictions.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">y_pred_scaled</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">y_scaler</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_pred_scaled</span><span class="p">)</span>
<span class="n">y_test</span> <span class="o">=</span> <span class="n">y_scaler</span><span class="o">.</span><span class="n">inverse_transform</span><span class="p">(</span><span class="n">y_test</span><span class="p">)</span>
<span class="n">results</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;y_true&#39;</span><span class="p">:</span><span class="n">y_test</span><span class="o">.</span><span class="n">flatten</span><span class="p">(),</span><span class="s1">&#39;y_pred&#39;</span><span class="p">:</span><span class="n">y_pred</span><span class="o">.</span><span class="n">flatten</span><span class="p">()})</span>
<span class="nb">print</span><span class="p">(</span><span class="n">results</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>WARNING:tensorflow:Model was constructed with shape (None, 10, 5) for input KerasTensor(type_spec=TensorSpec(shape=(None, 10, 5), dtype=tf.float32, name=&#39;lstm_84_input&#39;), name=&#39;lstm_84_input&#39;, description=&#34;created by layer &#39;lstm_84_input&#39;&#34;), but it was called on an input with incompatible shape (None, 1, 5).
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stderr output_text">
<pre>WARNING:tensorflow:Model was constructed with shape (None, 10, 5) for input KerasTensor(type_spec=TensorSpec(shape=(None, 10, 5), dtype=tf.float32, name=&#39;lstm_84_input&#39;), name=&#39;lstm_84_input&#39;, description=&#34;created by layer &#39;lstm_84_input&#39;&#34;), but it was called on an input with incompatible shape (None, 1, 5).
</pre>
</div>
</div>

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>       y_true     y_pred
0   -4.519997  -0.954894
1   -0.709999   0.084928
2   -2.260002   0.060028
3    2.419998   0.079551
4   -0.009995   0.113378
..        ...        ...
120 -6.419998 -11.621860
121  4.639999  -6.909235
122 -0.820007  -8.227471
123  0.430008  -7.551184
124 -0.660004  -9.382707

[125 rows x 2 columns]
</pre>
</div>
</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">results</span><span class="p">[</span><span class="s2">&quot;y_pred&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s2">&quot;y_pred&quot;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;float32&quot;</span><span class="p">)</span>
<span class="n">results</span><span class="p">[</span><span class="s2">&quot;y_true&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">results</span><span class="p">[</span><span class="s2">&quot;y_true&quot;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s2">&quot;float32&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">backtesting</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">test</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(),</span><span class="n">results</span><span class="p">,</span><span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="n">left_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">buy</span> <span class="o">=</span> <span class="n">backtesting</span><span class="p">[</span><span class="n">backtesting</span><span class="p">[</span><span class="s2">&quot;y_pred&quot;</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span><span class="p">]</span>
<span class="n">sell</span> <span class="o">=</span> <span class="n">backtesting</span><span class="p">[</span><span class="n">backtesting</span><span class="p">[</span><span class="s2">&quot;y_pred&quot;</span><span class="p">]</span><span class="o">==</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">backtesting</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>volume</th>
      <th>positive</th>
      <th>neutral</th>
      <th>negative</th>
      <th>close-1</th>
      <th>change</th>
      <th>y_true</th>
      <th>y_pred</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2020-06-24</td>
      <td>22252500</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>116.589996</td>
      <td>-4.519997</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2020-06-25</td>
      <td>17240400</td>
      <td>1</td>
      <td>4</td>
      <td>0</td>
      <td>112.070000</td>
      <td>-0.709999</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2020-06-26</td>
      <td>15270900</td>
      <td>2</td>
      <td>5</td>
      <td>0</td>
      <td>111.360001</td>
      <td>-2.260002</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2020-06-29</td>
      <td>12584300</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>109.099998</td>
      <td>2.419998</td>
      <td>1.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2020-06-30</td>
      <td>10565900</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>111.519997</td>
      <td>-0.009995</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>120</th>
      <td>2020-12-14</td>
      <td>30939400</td>
      <td>3</td>
      <td>2</td>
      <td>1</td>
      <td>175.720001</td>
      <td>-6.419998</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>121</th>
      <td>2020-12-15</td>
      <td>18817200</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>169.300003</td>
      <td>4.639999</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>122</th>
      <td>2020-12-16</td>
      <td>11105800</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>173.940002</td>
      <td>-0.820007</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>123</th>
      <td>2020-12-17</td>
      <td>9004600</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>173.119995</td>
      <td>0.430008</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>124</th>
      <td>2020-12-18</td>
      <td>21172100</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>173.550003</td>
      <td>-0.660004</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>125 rows × 9 columns</p>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">gain</span> <span class="o">=</span> <span class="n">buy</span><span class="o">.</span><span class="n">change</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">loss</span> <span class="o">=</span> <span class="n">sell</span><span class="o">.</span><span class="n">change</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">profit</span> <span class="o">=</span> <span class="n">gain</span> <span class="o">-</span> <span class="n">loss</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">profit</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>57.37998962402344</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">backtesting</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;change&quot;</span><span class="p">],</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,:])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>volume</th>
      <th>positive</th>
      <th>neutral</th>
      <th>negative</th>
      <th>close-1</th>
      <th>change</th>
      <th>y_true</th>
      <th>y_pred</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>119</th>
      <td>2020-12-11</td>
      <td>87410700</td>
      <td>11</td>
      <td>5</td>
      <td>1</td>
      <td>154.690002</td>
      <td>21.029999</td>
      <td>1.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>96</th>
      <td>2020-11-09</td>
      <td>35634700</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>127.459999</td>
      <td>15.129997</td>
      <td>1.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>29</th>
      <td>2020-08-05</td>
      <td>53122400</td>
      <td>8</td>
      <td>11</td>
      <td>2</td>
      <td>117.290001</td>
      <td>10.320000</td>
      <td>1.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>101</th>
      <td>2020-11-16</td>
      <td>16382500</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>138.360001</td>
      <td>6.309998</td>
      <td>1.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>107</th>
      <td>2020-11-24</td>
      <td>16711700</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>145.979996</td>
      <td>5.510010</td>
      <td>1.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>106</th>
      <td>2020-11-23</td>
      <td>12887000</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>141.070007</td>
      <td>4.909988</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>121</th>
      <td>2020-12-15</td>
      <td>18817200</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>169.300003</td>
      <td>4.639999</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>112</th>
      <td>2020-12-02</td>
      <td>10601900</td>
      <td>3</td>
      <td>1</td>
      <td>0</td>
      <td>149.440002</td>
      <td>4.169998</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>77</th>
      <td>2020-10-13</td>
      <td>22389000</td>
      <td>7</td>
      <td>8</td>
      <td>2</td>
      <td>124.970001</td>
      <td>3.990005</td>
      <td>1.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>92</th>
      <td>2020-11-03</td>
      <td>8144900</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>120.129997</td>
      <td>3.889999</td>
      <td>1.0</td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">backtesting</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;change&quot;</span><span class="p">],</span><span class="n">ascending</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">10</span><span class="p">,:])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>volume</th>
      <th>positive</th>
      <th>neutral</th>
      <th>negative</th>
      <th>close-1</th>
      <th>change</th>
      <th>y_true</th>
      <th>y_pred</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>120</th>
      <td>2020-12-14</td>
      <td>30939400</td>
      <td>3</td>
      <td>2</td>
      <td>1</td>
      <td>175.720001</td>
      <td>-6.419998</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>88</th>
      <td>2020-10-28</td>
      <td>11654700</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>123.309998</td>
      <td>-4.839996</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>0</th>
      <td>2020-06-24</td>
      <td>22252500</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>116.589996</td>
      <td>-4.519997</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>86</th>
      <td>2020-10-26</td>
      <td>8578900</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>128.350006</td>
      <td>-4.290009</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>98</th>
      <td>2020-11-11</td>
      <td>9600900</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>142.110001</td>
      <td>-4.289993</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>63</th>
      <td>2020-09-23</td>
      <td>8323600</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>127.209999</td>
      <td>-3.930000</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>47</th>
      <td>2020-08-31</td>
      <td>11617500</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>135.539993</td>
      <td>-3.669998</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>61</th>
      <td>2020-09-21</td>
      <td>10352700</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>128.630005</td>
      <td>-3.220001</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>12</th>
      <td>2020-07-13</td>
      <td>15620200</td>
      <td>2</td>
      <td>3</td>
      <td>0</td>
      <td>119.339996</td>
      <td>-3.119995</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>81</th>
      <td>2020-10-19</td>
      <td>6576900</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>126.809998</td>
      <td>-2.579994</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">crosstab</span><span class="p">(</span><span class="n">results</span><span class="o">.</span><span class="n">y_true</span><span class="p">,</span><span class="n">results</span><span class="o">.</span><span class="n">y_pred</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>y_pred</th>
      <th>0.0</th>
      <th>1.0</th>
    </tr>
    <tr>
      <th>y_true</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0.0</th>
      <td>52</td>
      <td>14</td>
    </tr>
    <tr>
      <th>1.0</th>
      <td>43</td>
      <td>16</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">positive</span><span class="o">/</span><span class="n">df</span><span class="o">.</span><span class="n">negative</span><span class="o">&gt;</span><span class="mi">5</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test</span><span class="o">.</span><span class="n">change</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>0.15256644279907586</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test2</span><span class="o">=</span><span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">negative</span><span class="o">/</span><span class="n">df</span><span class="o">.</span><span class="n">positive</span><span class="o">&gt;</span><span class="mi">2</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">test2</span><span class="o">.</span><span class="n">change</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>-0.3712306096003606</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">dis</span> <span class="o">=</span> <span class="n">df</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span><span class="p">),</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;BarContainer object of 3 artists&gt;</pre>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
" />
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_axes</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">])</span>

<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">((</span><span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span><span class="p">))</span><span class="o">+</span><span class="mi">0</span><span class="p">,</span><span class="n">amzn</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="mf">0.25</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">((</span><span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span><span class="p">))</span><span class="o">+</span><span class="mf">0.25</span><span class="p">,</span><span class="n">aapl</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="mf">0.25</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">((</span><span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span><span class="p">))</span><span class="o">+</span><span class="mf">0.5</span><span class="p">,</span><span class="n">pfe</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="mf">0.25</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">TypeError</span>                                 Traceback (most recent call last)
<span class="ansi-green-fg">&lt;ipython-input-355-bf8dc270717d&gt;</span> in <span class="ansi-cyan-fg">&lt;module&gt;</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-intense-fg ansi-bold">      3</span> fig <span class="ansi-blue-fg">=</span> plt<span class="ansi-blue-fg">.</span>figure<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      4</span> ax <span class="ansi-blue-fg">=</span> fig<span class="ansi-blue-fg">.</span>add_axes<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">[</span><span class="ansi-cyan-fg">0</span><span class="ansi-blue-fg">,</span><span class="ansi-cyan-fg">0</span><span class="ansi-blue-fg">,</span><span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">,</span><span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-fg">----&gt; 5</span><span class="ansi-red-fg"> </span>ax<span class="ansi-blue-fg">.</span>bar<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">(</span>list<span class="ansi-blue-fg">(</span>df<span class="ansi-blue-fg">.</span>iloc<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">:</span><span class="ansi-blue-fg">,</span><span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">:</span><span class="ansi-cyan-fg">4</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">.</span>columns<span class="ansi-blue-fg">.</span>values<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">+</span><span class="ansi-cyan-fg">0</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">,</span>amzn<span class="ansi-blue-fg">.</span>iloc<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">:</span><span class="ansi-blue-fg">,</span><span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">:</span><span class="ansi-cyan-fg">4</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">.</span>sum<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">,</span> color <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">&#39;b&#39;</span><span class="ansi-blue-fg">,</span> width <span class="ansi-blue-fg">=</span> <span class="ansi-cyan-fg">0.25</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      6</span> ax<span class="ansi-blue-fg">.</span>bar<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">(</span>list<span class="ansi-blue-fg">(</span>df<span class="ansi-blue-fg">.</span>iloc<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">:</span><span class="ansi-blue-fg">,</span><span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">:</span><span class="ansi-cyan-fg">4</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">.</span>columns<span class="ansi-blue-fg">.</span>values<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">+</span><span class="ansi-cyan-fg">0.25</span><span class="ansi-blue-fg">,</span>aapl<span class="ansi-blue-fg">.</span>iloc<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">:</span><span class="ansi-blue-fg">,</span><span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">:</span><span class="ansi-cyan-fg">4</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">.</span>sum<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">,</span> color <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">&#39;r&#39;</span><span class="ansi-blue-fg">,</span> width <span class="ansi-blue-fg">=</span> <span class="ansi-cyan-fg">0.25</span><span class="ansi-blue-fg">)</span>
<span class="ansi-green-intense-fg ansi-bold">      7</span> ax<span class="ansi-blue-fg">.</span>bar<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">(</span>list<span class="ansi-blue-fg">(</span>df<span class="ansi-blue-fg">.</span>iloc<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">:</span><span class="ansi-blue-fg">,</span><span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">:</span><span class="ansi-cyan-fg">4</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">.</span>columns<span class="ansi-blue-fg">.</span>values<span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">+</span><span class="ansi-cyan-fg">0.5</span><span class="ansi-blue-fg">,</span>pfe<span class="ansi-blue-fg">.</span>iloc<span class="ansi-blue-fg">[</span><span class="ansi-blue-fg">:</span><span class="ansi-blue-fg">,</span><span class="ansi-cyan-fg">1</span><span class="ansi-blue-fg">:</span><span class="ansi-cyan-fg">4</span><span class="ansi-blue-fg">]</span><span class="ansi-blue-fg">.</span>sum<span class="ansi-blue-fg">(</span><span class="ansi-blue-fg">)</span><span class="ansi-blue-fg">,</span> color <span class="ansi-blue-fg">=</span> <span class="ansi-blue-fg">&#39;g&#39;</span><span class="ansi-blue-fg">,</span> width <span class="ansi-blue-fg">=</span> <span class="ansi-cyan-fg">0.25</span><span class="ansi-blue-fg">)</span>

<span class="ansi-red-fg">TypeError</span>: can only concatenate list (not &#34;int&#34;) to list</pre>
</div>
</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
" />
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_axes</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">X</span> <span class="o">+</span><span class="mi">0</span><span class="p">,</span><span class="n">aapl</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="mf">0.20</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Apple&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">X</span> <span class="o">+</span> <span class="mf">0.20</span><span class="p">,</span><span class="n">amzn</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="mf">0.20</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Amazon&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">X</span> <span class="o">+</span><span class="mf">0.40</span><span class="p">,</span><span class="n">dis</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="mf">0.20</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Disney&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">X</span> <span class="o">+</span><span class="mf">0.60</span><span class="p">,</span><span class="n">pfe</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(),</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="mf">0.20</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Pfizer&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Sentiment&#39;</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;News&#39;</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>


<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([</span><span class="n">r</span> <span class="o">+</span> <span class="mf">0.3</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">amzn</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()))],</span> <span class="n">ticker</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.legend.Legend at 0x7f129c97d9b0&gt;</pre>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA6QAAAJ4CAYAAAByNC49AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADh0RVh0U29mdHdhcmUAbWF0cGxvdGxpYiB2ZXJzaW9uMy4yLjIsIGh0dHA6Ly9tYXRwbG90bGliLm9yZy+WH4yJAAAgAElEQVR4nOzde7RddX3v/c+XhIuP9CAC+lDiEVREBGQjW7QKQkW5aI94NxaRAj4MbaWe2qeFHh8F1HFGa6m13ksFQY8GbLSCDm8IxEK94I5EuQTkIkgoSiRKi4IN4ff8sWfCBhNINjv57ey8XmPssdb6zbnm+s0MWNnvzLXmrNZaAAAAYEPbrPcEAAAA2DQJUgAAALoQpAAAAHQhSAEAAOhCkAIAANCFIAUAAKCL2b0n0MP222/fdt55597TAAAAmPEWLlz489baDqtbtkkG6c4775yxsbHe0wAAAJjxqurmNS3zkV0AAAC6EKQAAAB0IUgBAADoYpP8DikAAMDaWL58eZYsWZJ77rmn91Smva222ipz5szJ5ptvvtbPEaQAAABrsGTJkvzO7/xOdt5551RV7+lMW6213HHHHVmyZEl22WWXtX6ej+wCAACswT333JPttttOjD6Mqsp22223zkeSBSkAAMBDEKNrZzJ/ToIUAABgmvvCF76Qqso111wz6W380R/9UebPnz+Fs3rkBCkAAMDaqpran7U0b9687L///pk3b9563LkNT5ACAABMY3fddVcuvfTSnHHGGTnnnHOSJAsWLMjzn//8vOQlL8luu+2WN73pTbnvvvuSJFtvvXX+7M/+LHvssUcOPvjgLF269Le2uXDhwhx44IHZd999c+ihh+a2227boPu0kiAFAACYxs4777wcdthheepTn5rtttsuCxcuTJJcdtll+eAHP5irr746N9xwQz7/+c8nSX71q19ldHQ0V111VQ488MCceuqpD9je8uXLc8IJJ2T+/PlZuHBhjj322Lz97W/f4PuVCFIAAIBpbd68eZk7d26SZO7cuas+trvffvvlSU96UmbNmpXXve51ufTSS5Mkm222WV772tcmSV7/+tevGl/p2muvzZVXXpkXvehFGRkZyXve854sWbJkA+7R/VyHFAAAYJpatmxZLrroolxxxRWpqqxYsSJVlZe85CW/dVbbNZ3l9sHjrbXsscce+fa3v73e5r22HCEFAACYpubPn5+jjjoqN998c2666abccsst2WWXXXLJJZfksssuy49//OPcd999Offcc7P//vsnSe67775VZ9P9zGc+s2p8pd122y1Lly5dFaTLly/PVVddtWF3bCBIAQAApql58+bl5S9/+QPGXvnKV2bevHl51rOelbe85S3Zfffds8suu6xa79GPfnQuu+yy7Lnnnrnooovyzne+8wHP32KLLTJ//vyceOKJ2XvvvTMyMpJvfetbG2yfJqrWWpcX7ml0dLSNjY31ngYAADDNLV68OLvvvnvvafyWBQsW5LTTTsuXvvSl31q29dZb56677uowq9X/eVXVwtba6OrWd4QUAACALpzUCAAAYCNz0EEH5aCDDlrtsl5HRyfDEVIAAAC6EKQAAAB00TVIq+oxVTW/qq6pqsVV9XtV9diquqCqrhtutx3Wrar6QFVdX1U/rKpnTtjO0cP611XV0f32CAAAgLXV+wjpPyT5amvtaUn2TrI4yUlJLmyt7ZrkwuFxkhyeZNfh5/gkH02SqnpskpOTPDvJfklOXhmxAAAATF/dgrSqtkny/CRnJElr7b9aa79MckSSs4fVzk7ysuH+EUk+2cZ9J8ljqmrHJIcmuaC1tqy19oskFyQ5bAPuCgAAwHr1hS98IVWVa665pvdUplTPI6S7JFma5BNVdXlVfbyqHp3k8a2124Z1fprk8cP9nZLcMuH5S4axNY0/QFUdX1VjVTW2dOnSKd4VAABgU1A1tT9ra968edl///0zb9689bdzHfQM0tlJnpnko621fZL8Kvd/PDdJ0lprSdpUvFhr7fTW2mhrbXSHHXaYik0CAACsd3fddVcuvfTSnHHGGTnnnHOSJAsWLMiBBx6YI444Ik960pNy0kkn5dOf/nT222+/7LXXXrnhhhuSJF/84hfz7Gc/O/vss09e+MIX5mc/+1mS5MUvfnFGRkYyMjKSbbbZJmeffXbuueeeHHPMMdlrr72yzz775OKLL06SnHXWWXnFK16Rww47LLvuumv+8i//csr2rWeQLkmypLX23eHx/IwH6s+Gj+JmuL19WH5rkidMeP6cYWxN4wA82FT/s+50+wGAGei8887LYYcdlqc+9anZbrvtsnDhwiTJD37wg3zsYx/L4sWL86lPfSo/+tGPctlll+WNb3xjPvjBDyZJ9t9//3znO9/J5Zdfnrlz5+a9731vkuTLX/5yFi1alDPOOCNPfOIT87KXvSwf/vCHU1W54oorMm/evBx99NG55557kiSLFi3KueeemyuuuCLnnntubrnlltVPdh11C9LW2k+T3FJVuw1DBye5Osn5SVaeKffoJOcN989P8obhbLvPSXLn8NHeryU5pKq2HU5mdMgwBgAAsNGbN29e5s6dmySZO3fuqo/tPutZz8qOO+6YLbfcMk9+8pNzyCGHJEn22muv3HTTTUmSJUuW5NBDD81ee+2Vv/3bv81VV121ars///nPc9RRR+Uzn/lMttlmm1x66aV5/etfnyR52tOelic+8Yn50Y9+lCQ5+OCDs80222SrrbbK05/+9Nx8881Tsm+zp2Qrk3dCkk9X1RZJbkxyTMYj+bNVdVySm5O8Zlj3y0lenOT6JL8e1k1rbVlVvTvJ94b13tVaW7bhdgEAAGD9WLZsWS666KJcccUVqaqsWLEiVZWXvOQl2XLLLVett9lmm616vNlmm+Xee+9Nkpxwwgl529velpe+9KVZsGBBTjnllCTJihUrMnfu3Lzzne/Mnnvu+bDzmPhas2bNWrX9R6prkLbWFiUZXc2ig1ezbkvyJ2vYzplJzpza2QEAAPQ1f/78HHXUUfnHf/zHVWMHHnhgLrnkkrV6/p133pmddho/5+vZZ5+9avykk07KM57xjFVHXpPkgAMOyKc//em84AUvyI9+9KP85Cc/yW677Zbvf//7U7Q3v633dUgBAABYg3nz5uXlL3/5A8Ze+cpXrvXZdk855ZS8+tWvzr777pvtt99+1fhpp52Wr3/966tObHT++efnj//4j3Pfffdlr732ymtf+9qcddZZDzgyuj7U+IHHTcvo6GgbGxvrPQ2ADW+mn/hnE/w7DYD1a/Hixdl99917T2Ojsbo/r6pa2Fpb3SdjHSEFAACgD0EKAABAF4IUAACALgQpAAAAXQhSAAAAuhCkAAAAdCFIAQAAprFZs2ZlZGQke+yxR/bee+/83d/9Xe67774kydjYWP70T/+08wwnb3bvCQAAAGwsFiyY2mt6H3TQw19D+1GPelQWLVqUJLn99tvzh3/4h/mP//iPnHrqqRkdHc3o6Gov8blRcIQUAABgI/G4xz0up59+ej70oQ+ltZYFCxbkD/7gD5Ik3/zmNzMyMpKRkZHss88++c///M8sWLAgBx10UF71qlflaU97Wo488si0Nh7BCxcuzIEHHph99903hx56aG677bbccMMNeeYzn7nq9a677roHPJ5qghQAAGAj8qQnPSkrVqzI7bff/oDx0047LR/+8IezaNGiXHLJJXnUox6VJLn88svz/ve/P1dffXVuvPHG/Nu//VuWL1+eE044IfPnz8/ChQtz7LHH5u1vf3ue/OQnZ5tttll1RPYTn/hEjjnmmPW2Lz6yCwAAMAM873nPy9ve9rYceeSRecUrXpE5c+YkSfbbb79V90dGRnLTTTflMY95TK688sq86EUvSpKsWLEiO+64Y5LkjW98Yz7xiU/kfe97X84999xcdtll623OjpACAABsRG688cbMmjUrj3vc4x4wftJJJ+XjH/947r777jzvec/LNddckyTZcsstV60za9as3HvvvWmtZY899siiRYuyaNGiXHHFFfn617+eJHnlK1+Zr3zlK/nSl76UfffdN9ttt9162xdBCgAAsJFYunRp3vSmN+Utb3lLqh54gqUbbrghe+21V0488cQ861nPWhWkq7Pbbrtl6dKl+fa3v50kWb58ea666qokyVZbbZVDDz00b37zm9frx3UTQQoAADCt3X333asu+/LCF74whxxySE4++eTfWu/9739/9txzzzzjGc/I5ptvnsMPP3yN29xiiy0yf/78nHjiidl7770zMjKSb33rW6uWH3nkkdlss81yyCGHrJd9WqlWnmFpUzI6OtrGxsZ6TwNgw6upPVX9tLMJ/p0GwPq1ePHi7L777r2nscGddtppufPOO/Pud797nZ63uj+vqlrYWlvttWmc1AgAAIBVXv7yl+eGG27IRRddtN5fS5ACAACwyr/8y79ssNfyHVIAAAC6EKQAAAB0IUgBAADoQpACAADQhSAFAACYxmbNmpWRkZHsueeeefWrX51f//rXSZIPfOAD2X333XPkkUfm/PPPz1//9V93num6c5ZdAACAtVSnTu01vdvJD38N7Uc96lFZtGhRkuTII4/Mxz72sbztbW/LRz7ykXzjG9/InDlzkiQvfelLH9Fc7r333syevWETUZACAABsJA444ID88Ic/zJve9KbceOONOfzww3Psscdm2223zdjYWD70oQ9lZGRk1frXXnttvvrVr2Z0dDQnnHBCrrzyyixfvjynnHJKjjjiiJx1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
" />
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_axes</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">])</span>
<span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">X</span> <span class="o">+</span><span class="mi">0</span><span class="p">,</span><span class="n">aapl</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">/</span><span class="nb">sum</span><span class="p">(</span><span class="n">aapl</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;r&#39;</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="mf">0.20</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Apple&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">X</span> <span class="o">+</span> <span class="mf">0.20</span><span class="p">,</span><span class="n">amzn</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">/</span><span class="nb">sum</span><span class="p">(</span><span class="n">amzn</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="mf">0.20</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Amazon&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">X</span> <span class="o">+</span><span class="mf">0.40</span><span class="p">,</span><span class="n">dis</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">/</span><span class="nb">sum</span><span class="p">(</span><span class="n">dis</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="mf">0.20</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Disney&quot;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">X</span> <span class="o">+</span><span class="mf">0.60</span><span class="p">,</span><span class="n">pfe</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">/</span><span class="nb">sum</span><span class="p">(</span><span class="n">pfe</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;g&#39;</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="mf">0.20</span><span class="p">,</span><span class="n">label</span><span class="o">=</span><span class="s2">&quot;Pfizer&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Sentiment in %&#39;</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;News&#39;</span><span class="p">,</span> <span class="n">fontweight</span><span class="o">=</span><span class="s1">&#39;bold&#39;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">([</span><span class="n">r</span> <span class="o">+</span> <span class="mf">0.3</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">amzn</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()))],</span> <span class="n">ticker</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">13</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>&lt;matplotlib.legend.Legend at 0x7f129c906470&gt;</pre>
</div>

</div>

<div class="output_area">



<div class="output_png output_subarea ">
<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA5gAAAJ4CAYAAAAA+0yLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAADh0RVh0U29mdHdhcmUAbWF0cGxvdGxpYiB2ZXJzaW9uMy4yLjIsIGh0dHA6Ly9tYXRwbG90bGliLm9yZy+WH4yJAAAgAElEQVR4nOzde7RddX3v/c+XBAgViwroocTKRUWE6EYCtgqFylWx4l0sooIehlp5rPZRaD0KtD491lKL1/YgCLRHA21EQasWBWJBrTQRFDB4AUGjKBEVjQIN4ff8sdYOmxhgZ/PLXtnh9Rpjj7XWnOvyXXGw3O8915yzWmsBAACAB2qTUQ8AAADAxkFgAgAA0IXABAAAoAuBCQAAQBcCEwAAgC4EJgAAAF3MHvUAPWyzzTZthx12GPUYAAAAG70lS5b8pLW27drWbRSBucMOO2Tx4sWjHgMAAGCjV1U33ts6X5EFAACgC4EJAABAFwITAACALjaKfTABAAAmY+XKlVm2bFluv/32UY+ywZszZ07mzp2bTTfddNKPEZgAAMCDxrJly/LQhz40O+ywQ6pq1ONssFprueWWW7Js2bLsuOOOk36cr8gCAAAPGrfffnu23nprcXk/qipbb731Om/pFZgAAMCDiricnKn8OwlMAACAafaJT3wiVZVrr712ys/xyle+MgsXLuw41QMnMAEAgAevqr4/k7RgwYLss88+WbBgwXp8c9NPYAIAAEyjFStW5LLLLssZZ5yRc845J0myaNGi/MEf/EEOO+yw7LLLLnnNa16Tu+66K0my5ZZb5o1vfGN22223HHDAAVm+fPlvPOeSJUuy3377Zc8998whhxySm266aVrf0ziBCQAAMI3OP//8HHrooXn84x+frbfeOkuWLEmSXH755Xnf+96Xb3zjG7nuuuty3nnnJUl+9atfZf78+bnmmmuy33775eSTT77H861cuTLHHXdcFi5cmCVLluSYY47JW9/61ml/X4nABAAAmFYLFizIEUcckSQ54ogjVn9Ndu+9985OO+2UWbNm5aUvfWkuu+yyJMkmm2ySl7zkJUmSl73sZauXj/vmN7+Zq6++OgcddFDGxsbyjne8I8uWLZvGd3Q358EEAACYJj/96U9z8cUX56qrrkpVZdWqVamqHHbYYb9x1NZ7O4rrmstba9ltt93y5S9/eb3NPVm2YAIAAEyThQsX5qijjsqNN96YG264Id///vez44475tJLL83ll1+e7373u7nrrrty7rnnZp999kmS3HXXXauPFvvRj3509fJxu+yyS5YvX746MFeuXJlrrrlmet/YkMAEAACYJgsWLMjznve8eyx7wQtekAULFmSvvfbK61//+uy6667ZcccdV9/vIQ95SC6//PLsvvvuufjii/P2t7/9Ho/fbLPNsnDhwhx//PF58pOfnLGxsXzpS1+atvc0UbXWRvLCPc2fP78tXrx41GMAAAAbuKVLl2bXXXcd9Ri/YdGiRTnllFPyqU996jfWbbnlllmxYsUIplr7v1dVLWmtzV/b/W3BBAAAoAsH+QEAABix/fffP/vvv/9a141q6+VU2IIJAABAFwITAACALgQmAAAAXQhMAAAAuhCYAAAA0+wTn/hEqirXXnvtqEfpSmACAAAPWlV9fyZrwYIF2WeffbJgwYL19+ZGQGACAABMoxUrVuSyyy7LGWeckXPOOSdJsmjRouy33345/PDDs9NOO+WEE07IRz7ykey9996ZN29errvuuiTJJz/5yTz1qU/NHnvskQMPPDA//vGPkyTPetazMjY2lrGxsWy11VY5++yzc/vtt+foo4/OvHnzsscee+SSSy5Jkpx11ll5/vOfn0MPPTSPe9zj8pa3vKXbe3MeTAAYkUWL1uFP3TPQ/vu3UY8AsEE6//zzc+ihh+bxj398tt566yxZsiRJ8rWvfS1Lly7NIx7xiOy000559atfncsvvzzvec978r73vS+nnnpq9tlnn/znf/5nqiqnn3563vWud+Xv/u7v8ulPfzpJsmTJkhx99NF57nOfmw984AOpqlx11VW59tprc/DBB+db3/pWkuTKK6/MFVdckc033zy77LJLjjvuuDz60Y9+wO/NFkwAAIBptGDBghxxxBFJkiOOOGL112T32muvbLfddtl8882z88475+CDD06SzJs3LzfccEOSZNmyZTnkkEMyb968/O3f/m2uueaa1c/7k5/8JEcddVQ++tGPZquttspll12Wl73sZUmSJzzhCXnMYx6zOjAPOOCAbLXVVpkzZ06e+MQn5sYbb+zy3mzBBAAAmCY//elPc/HFF+eqq65KVWXVqlWpqhx22GHZfPPNV99vk002WX17k002yZ133pkkOe644/KmN70pz3nOc7Jo0aKcdNJJSZJVq1bliCOOyNvf/vbsvvvu9zvHxNeaNWvW6ud/oGzBBAAAmCYLFy7MUUcdlRtvvDE33HBDvv/972fHHXfMpZdeOqnH33rrrdl+++2TJGefffbq5SeccEKe9KQnrd4ymiT77rtvPvKRjyRJvvWtb+V73/tedtlll47v5jcJTAAAgGmyYMGCPO95z7vHshe84AWTPprsSSedlBe96EXZc889s80226xefsopp+TCCy9cfaCfCy64IK973ety1113Zd68eXnJS16Ss8466x5bLteHam3m74A/f/78tnjx4lGPAQDrxEF+AKbf0qVLs+uuu456jBljbf9eVbWktTZ/bfe3BRMAAIAuBCYAAABdCEwAAAC6EJgAAAB0ITABAADoQmACAADQxexRDwAAbJzq5I37NCztRKdhAaZm1qxZmTdvXlauXJnZs2fn5S9/ed74xjdmk002yeLFi/NP//RPee973zvqMadEYAKwwaqNu09yySWjngCA3ucknsw5gLfYYotceeWVSZKbb745f/zHf5xf/OIXOfnkkzN//vzMn7/WU0zOCL4iCwAAMCKPfOQjc9ppp+X9739/WmtZtGhRnv3sZydJvvCFL2RsbCxjY2PZY4898stf/jKLFi3K/vvvnxe+8IV5whOekCOPPDKtDaJ2yZIl2W+//bLnnnvmkEMOyU033ZTrrrsuT3nKU1a/3re//e173O5NYAIAAIzQTjvtlFWrVuXmm2++x/JTTjklH/jAB3LllVfm0ksvzRZbbJEkueKKK3LqqafmG9/4Rq6//vp88YtfzMqVK3Pcccdl4cKFWbJkSY455pi89a1vzc4775ytttpq9RbTM888M0cfffR6ey++IgsAALABevrTn543velNOfLII/P85z8/c+fOTZLsvffeq6+PjY3lhhtuyMMe9rBcffXVOeigg5Ikq1atynbbbZckefWrX50zzzwz7373u3Puuefm8ssvX28z24IJAAAwQtdff31mzZqVRz7ykfdYfsIJJ+T000/Pbbfdlqc//em59tprkySbb7756vvMmjUrd955Z1pr2W233XLllVfmyiuvzFVXXZULL7wwSfKCF7wgn/nMZ/KpT30qe+65Z7beeuv19l4EJgAAwIgsX748r3nNa/L6178+tcbR7a677rrMmzcvxx9/fPbaa6/Vgbk2u+yyS5YvX54vf/nLSZKVK1fmmmuuSZLMmTMnhxxySF772teu16/HJgITAABgWt12220ZGxvLbrvtlgMPPDAHH3xwTjzxxN+436mnnprdd989T3rSk7Lpppvmmc985r0+52abbZaFCxfm+OOPz5Of/OSMjY3lS1/60ur1Rx55ZDbZZJMcfPDB6+U9javxIw7NZPPnz2+LFy8e9RgAdLbxn6Zk436Df/iFUU+wfjkPJsxMS5cuza677jrqMabdKaeckltvvTV/9Vd/tU6PW9u/V1Utaa2t9VwqDvIDAACwEXve856X6667LhdffPF6fy2BCQAAsBH7+Mc/Pm2vZR9MAAAAuhCYAAAAdCEwAQAA6EJgAgAA0IXABAAAmEazZs3K2NhYdt9997zoRS/Kr3/96yTJe9/73uy666458sgjc8EFF+Sd73zniCddd44iCwAAPGjVyX3PSTyZc+RuscUWufLKK5MkRx55ZP7xH/8xb3rTm/LBD34wn//85zN37twkyXOe85wHNMudd96Z2bOnN/kEJgAAwIjsu++++frXv57XvOY1uf766/PMZz4zxxxzTB7+8Idn8eLFef/735+xsbHV9//mN7+Zz372s5k/f36OO+64XH311Vm5cmVOOumkHH744TnrrLNy3nnnZcWKFVm1alW+8IUvTOv7EZgAM1n1/avrhuf+/woMADPVnXfemc985jM59NBD89rXvjaf/exnc8kll2SbbbbJWWedtfp+41s7P/nJT+Zd73pXnva0p+XEE0/MM57xjHz4wx/Oz3/+8+y999458MADkyRf/epX8/Wvfz2PeMQjpv09CUwAAIBpdNttt63eKrnvvvvmVa961f0+5tvf/nbe/OY355JLLsmmm26aCy+8MBdccEFOOeWUJMntt9+e733ve0mSgw46aCRxmQhMAACAaTVxH8zJWLFiRV784hfnQx/6ULbbbrskSWstH/vYx7LLLrvc475f+cpX8pCHPKTrvOvCUWQBAAA2YMccc0yOPvro7LvvvquXHXLIIXnf+96X1ga7k1xxxRWjGu8eBCYAAMAG6sYbb8zChQvz4Q9/OGNjYxkbG8vixYvztre9LStXrsyTnvSk7Lbbbnnb29426lGTJDVevDPZ/Pnz2+LFi0c9BsD028gP8lMb+UF+Lrlk4/7f7w+n98CF024ypyIANjxLly7N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
" />
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">sum</span><span class="p">(</span><span class="n">aapl</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span><span class="o">/</span><span class="n">aapl</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>positive    2.682576
neutral     1.936120
negative    9.031201
dtype: float64</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">aapl</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">/</span><span class="nb">sum</span><span class="p">(</span><span class="n">aapl</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">())</span><span class="o">*</span><span class="mi">100</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>positive    37.277595
neutral     51.649680
negative    11.072724
dtype: float64</pre>
</div>

</div>

</div>
</div>

</div>
    

</div>



  </div><a class="u-url" href="/Notebook-blogs/2021/01/08/stock_predictions.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/Notebook-blogs/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/Notebook-blogs/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/Notebook-blogs/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>An easy to use blogging platform with support for Jupyter Notebooks.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/fastai" title="fastai"><svg class="svg-icon grey"><use xlink:href="/Notebook-blogs/assets/minima-social-icons.svg#github"></use></svg></a></li><li><a rel="me" href="https://twitter.com/fastdotai" title="fastdotai"><svg class="svg-icon grey"><use xlink:href="/Notebook-blogs/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
